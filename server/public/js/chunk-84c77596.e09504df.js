(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84c77596"],{"00b4":function(t,e,r){"use strict";r("ac1f");var a=r("23e7"),n=r("c65b"),s=r("1626"),i=r("825a"),c=r("577e"),o=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),d=/./.test;a({target:"RegExp",proto:!0,forced:!o},{test:function(t){var e=i(this),r=c(t),a=e.exec;if(!s(a))return n(d,e,r);var o=n(a,e,r);return null!==o&&(i(o),!0)}})},"0489":function(t,e,r){"use strict";r("b0c0"),r("a4d3"),r("e01a");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card shadow",attrs:{href:"#"}},[e("div",{staticClass:"card-img-top-container"},[e("img",{staticClass:"card-img-top",attrs:{src:t.order.meal.image,alt:"photo of the restaurant"}})]),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title m-0"},[t._v(" "+t._s(t.order.meal.name)+" ")]),e("p",{staticClass:"card-text mt-1"},[e("span",{staticClass:"rating"},[t._v("★ "+t._s(t._f("padEnd")(t.order.restaurant.rating)))]),e("span",{staticClass:"mx-1"},[t._v("|")]),t._v(t._s(t._f("textTruncate")(t.order.restaurant.name,15))+" "),t._t("distance")],2),t._t("indicator"),e("p",{staticClass:"card-text"},[t._v(" "+t._s(t._f("textTruncate")(t.order.meal.description))+" ")])],2),e("div",{staticClass:"card-footer text-right"},[t._t("footer")],2)])},n=[],s=r("2708"),i={mixins:[s["e"],s["g"]],props:{order:{type:Object,required:!0}}},c=i,o=(r("1667"),r("2877")),d=Object(o["a"])(c,a,n,!1,null,"5f5d27b6",null);e["a"]=d.exports},"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3"),r("ac1f"),r("00b4");var a=r("6b75");function n(t,e){if(t){if("string"===typeof t)return Object(a["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(a["a"])(t,e):void 0}}},"107c":function(t,e,r){var a=r("d039"),n=r("da84"),s=n.RegExp;t.exports=a((function(){var t=s("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"15fd":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("a4d3"),r("b64b");function a(t,e){if(null==t)return{};var r,a,n={},s=Object.keys(t);for(a=0;a<s.length;a++)r=s[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}function n(t,e){if(null==t)return{};var r,n,s=a(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}},1667:function(t,e,r){"use strict";r("832e")},3835:function(t,e,r){"use strict";function a(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return c}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("14d9");function n(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var a,n,s,i,c=[],o=!0,d=!1;try{if(s=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;o=!1}else for(;!(o=(a=s.call(r)).done)&&(c.push(a.value),c.length!==e);o=!0);}catch(l){d=!0,n=l}finally{try{if(!o&&null!=r["return"]&&(i=r["return"](),Object(i)!==i))return}finally{if(d)throw n}}return c}}var s=r("06c5");r("d9e2");function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){return a(t)||n(t,e)||Object(s["a"])(t,e)||i()}},"4ec4":function(t,e,r){"use strict";r.r(e);r("b64b");var a=function(){var t=this,e=t._self._c;return e("section",[e("UserNavbar"),t.isLoading?e("Loader",{attrs:{height:"100vh"}}):t._e(),e("transition",{attrs:{name:"fade"}},[t.isLoading?t._e():e("header",[e("ImageHeaderBanner",{attrs:{"background-photo":t.banner.image,"banner-height":t.banner.height},scopedSlots:t._u([{key:"header",fn:function(){return[e("h1",{staticClass:"banner-content-title"},[t._v(" 明日餐點 ")]),e("h3",{staticClass:"banner-content-description"},[t._v(" 午餐免煩惱 ")])]},proxy:!0}],null,!1,3085195242)})],1)]),e("transition",{attrs:{name:"slide"}},[t.isLoading?t._e():e("section",{staticClass:"order-wrapper"},[e("div",{staticClass:"container order-container"},[e("div",{staticClass:"row order-content align-items-stretch"},t._l([t.lunch,t.dinner],(function(r){return e("div",{key:r.indicator,staticClass:"col-12 col-md-6 col-lg-5 mb-4 order-card"},[Object.keys(r.order).length&&!r.isCommingSoon?e("MealVerticalCard",{attrs:{"is-loading":t.isLoading,order:r.order},scopedSlots:t._u([{key:"indicator",fn:function(){return[e("span",{staticClass:"card-indicator"},[t._v(t._s(r.indicator))])]},proxy:!0},{key:"footer",fn:function(){return[e("router-link",{staticClass:"btn",attrs:{to:{name:"order",params:{order_id:r.order.id}}}},[t._v(" 查看訂單 ")])]},proxy:!0}],null,!0)}):e("NewOrderCard",{style:{backgroundImage:r.isCommingSoon?"url(".concat(t.image.commingSoon,")"):"url(".concat(t.image.order,")")},scopedSlots:t._u([r.isCommingSoon?{key:"content",fn:function(){return[e("h5",{staticClass:"card-title text-center"},[e("i",{staticClass:"fas fa-glass-cheers"}),e("span",{staticClass:"card-indicator d-block"},[t._v("Comming Soon")])])]},proxy:!0}:{key:"content",fn:function(){return[e("h5",{staticClass:"card-title"},[e("span",{staticClass:"card-indicator"},[t._v(t._s(r.indicator)+"餐")])]),t.currentUser.subscriptionBalance>0?e("router-link",{staticClass:"btn",attrs:{to:{name:"order-new"}}},[t._v(" 訂購 ")]):e("span",{staticClass:"card-warning"},[e("i",{staticClass:"far fa-surprise mr-1"}),t._v("無餘額囉")])]},proxy:!0}],null,!0)})],1)})),0)])])]),e("transition",{attrs:{name:"fade"}},[t.isLoading?t._e():e("Footer")],1)],1)},n=[],s=r("c7eb"),i=r("15fd"),c=r("3835"),o=r("1da1"),d=r("5530"),l=(r("d9e2"),r("1dc8")),u=r("fbbd"),f=r("0489"),p=r("f525"),g=r("fd2d"),b=r("555f"),m=r("4cce"),h=r("2fa3"),v=r("2f62"),x=["Restaurant"],y={components:{UserNavbar:l["a"],ImageHeaderBanner:u["a"],MealVerticalCard:f["a"],NewOrderCard:p["a"],Footer:g["a"],Loader:b["a"]},data:function(){return{banner:{image:"https://images.pexels.com/photos/775031/pexels-photo-775031.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",height:550},lunch:{indicator:"午",isCommingSoon:!1,order:{}},dinner:{indicator:"晚",isCommingSoon:!0,order:{}},image:{order:"https://cdn.pixabay.com/photo/2017/06/11/17/03/dumplings-2392893_1280.jpg",commingSoon:"https://images.unsplash.com/photo-1549409466-c6449df8e23b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4000&q=80"},isLoading:!0}},computed:Object(d["a"])({},Object(v["c"])(["currentUser"])),created:function(){this.fetchOrders()},methods:{fetchOrders:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var r,a,n,o,d,l,u,f,p;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m["a"].getOrdersTomorrow();case 3:if(r=e.sent,a=r.data,n=r.statusText,"OK"===n&&"success"===a.status){e.next=8;break}throw new Error(a.message);case 8:a.order.length>0&&(o=a.order[0],d=o.id,l=Object(c["a"])(o.meals,1),u=l[0],f=u.Restaurant,p=Object(i["a"])(u,x),t.lunch.order={id:d,restaurant:f,meal:p}),t.isLoading=!1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),t.isLoading=!1,h["a"].fire({type:"error",title:"無法取得餐點資料，請稍後再試"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()}}},_=y,C=(r("a54f"),r("2877")),O=Object(C["a"])(_,a,n,!1,null,"56b699f6",null);e["default"]=O.exports},"555f":function(t,e,r){"use strict";var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"icecream-container",style:{height:t.height}},[e("div",{staticClass:"icecream-content py-5"},[t._l(3,(function(t){return e("h1",{key:t,staticClass:"icecream"},[e("i",{staticClass:"fas fa-ice-cream"})])})),e("small",{staticClass:"icecream-description"},[t._v(" 準備中 ")])],2)])},n=[],s={props:{height:{type:String,default:"100vh"}}},i=s,c=(r("db9a"),r("2877")),o=Object(c["a"])(i,a,n,!1,null,"2e263baa",null);e["a"]=o.exports},"573d":function(t,e,r){},"6b75":function(t,e,r){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}r.d(e,"a",(function(){return a}))},"747a":function(t,e,r){"use strict";r("aadc")},"832e":function(t,e,r){},9263:function(t,e,r){"use strict";var a=r("c65b"),n=r("e330"),s=r("577e"),i=r("ad6d"),c=r("9f7f"),o=r("5692"),d=r("7c73"),l=r("69f3").get,u=r("fce3"),f=r("107c"),p=o("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,b=g,m=n("".charAt),h=n("".indexOf),v=n("".replace),x=n("".slice),y=function(){var t=/a/,e=/b*/g;return a(g,t,"a"),a(g,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),_=c.BROKEN_CARET,C=void 0!==/()??/.exec("")[1],O=y||C||_||u||f;O&&(b=function(t){var e,r,n,c,o,u,f,O=this,w=l(O),j=s(t),I=w.raw;if(I)return I.lastIndex=O.lastIndex,e=a(b,I,j),O.lastIndex=I.lastIndex,e;var S=w.groups,k=_&&O.sticky,E=a(i,O),R=O.source,A=0,L=j;if(k&&(E=v(E,"y",""),-1===h(E,"g")&&(E+="g"),L=x(j,O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&"\n"!==m(j,O.lastIndex-1))&&(R="(?: "+R+")",L=" "+L,A++),r=new RegExp("^(?:"+R+")",E)),C&&(r=new RegExp("^"+R+"$(?!\\s)",E)),y&&(n=O.lastIndex),c=a(g,k?r:O,L),k?c?(c.input=x(c.input,A),c[0]=x(c[0],A),c.index=O.lastIndex,O.lastIndex+=c[0].length):O.lastIndex=0:y&&c&&(O.lastIndex=O.global?c.index+c[0].length:n),C&&c&&c.length>1&&a(p,c[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(c[o]=void 0)})),c&&S)for(c.groups=u=d(null),o=0;o<S.length;o++)f=S[o],u[f[0]]=c[f[1]];return c}),t.exports=b},"9f7f":function(t,e,r){var a=r("d039"),n=r("da84"),s=n.RegExp,i=a((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),c=i||a((function(){return!s("a","y").sticky})),o=i||a((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:o,MISSED_STICKY:c,UNSUPPORTED_Y:i}},a54f:function(t,e,r){"use strict";r("573d")},a630:function(t,e,r){var a=r("23e7"),n=r("4df4"),s=r("1c7e"),i=!s((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:n})},aadc:function(t,e,r){},ac1f:function(t,e,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad14:function(t,e,r){},db9a:function(t,e,r){"use strict";r("ad14")},f525:function(t,e,r){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card shadow",attrs:{href:"#"}},[e("div",{staticClass:"card-overlay"}),e("div",{staticClass:"card-body"},[t._t("content")],2)])},n=[],s=(r("747a"),r("2877")),i={},c=Object(s["a"])(i,a,n,!1,null,"3b73e856",null);e["a"]=c.exports},fce3:function(t,e,r){var a=r("d039"),n=r("da84"),s=n.RegExp;t.exports=a((function(){var t=s(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-84c77596.e09504df.js.map