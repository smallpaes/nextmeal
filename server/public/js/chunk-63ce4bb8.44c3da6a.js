(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63ce4bb8"],{"087c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"wrapper d-flex h-100"},[t("OwnerSideNavBar",{attrs:{"nav-is-open":e.navIsOpen}}),t("section",{staticClass:"dish flex-fill"},[t("NavbarToggler",{attrs:{"nav-is-open":e.navIsOpen},on:{"toggle-navbar":function(t){e.navIsOpen=!e.navIsOpen}}}),t("h1",{staticClass:"dish-title"},[e._v(" 餐點資訊 ")]),t("OwnerDishNavPill",{staticClass:"mt-4 ml-1"}),t("hr",{staticClass:"dish-divider"}),e.isLoading?t("Loader",{attrs:{height:"300px"}}):e._e(),t("transition",{attrs:{name:"slide"}},[e.isLoading?e._e():t("div",{staticClass:"dish-form-container pb-4"},[t("OwnerDishForm",{attrs:{"initial-dish":e.dish,"initial-processing":e.isProcessing},on:{"after-submit":e.handleAfterSubmit,"after-delete":e.handleAfterDelete},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",[e._v("編輯")])]},proxy:!0},{key:"submitBtn",fn:function(){return[t("span",[e._v("更新")])]},proxy:!0}],null,!1,1684497721)})],1)])],1)],1)},i=[],r=a("c7eb"),n=a("5530"),c=a("1da1"),o=(a("d9e2"),a("b0c0"),a("a4d3"),a("e01a"),a("14d9"),a("0a76")),d=a("0f14d"),u=a("fb59"),h=a("f7c4"),l=a("555f"),f=a("bcc2"),p=a("2fa3"),v={components:{OwnerSideNavBar:o["a"],NavbarToggler:d["a"],OwnerDishNavPill:u["a"],OwnerDishForm:h["a"],Loader:l["a"]},data:function(){return{dish:{name:"",description:"",image:""},isLoading:!0,isProcessing:!1,navIsOpen:!1}},created:function(){var e=this.$route.params.dish_id;this.fetchDishData(e)},beforeRouteUpdate:function(e,t,a){var s=e.params.dish_id;this.fetchDishData(s),a()},methods:{fetchDishData:function(e){var t=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var s,i,c;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f["a"].dishes.getEdit({dishId:e});case 3:if(s=a.sent,i=s.data,c=s.statusText,"success"===i.status&&"OK"===c){a.next=8;break}throw new Error(i.message);case 8:t.dish=Object(n["a"])(Object(n["a"])({},t.dish),{},{name:i.meal.name,description:i.meal.description,image:i.meal.image}),t.isLoading=!1,a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](0),t.isLoading=!1,p["a"].fire({type:"error",title:"無法更新資料，請稍後再試"});case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))()},handleAfterSubmit:function(e){var t=this;return Object(c["a"])(Object(r["a"])().mark((function a(){var s,i,n,c;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isProcessing=!0,a.prev=1,s=t.$route.params.dish_id,a.next=5,f["a"].dishes.putEdit({dishId:s,formData:e});case 5:if(i=a.sent,n=i.data,c=i.statusText,"success"===n.status&&"OK"===c){a.next=10;break}throw new Error(n.message);case 10:t.$router.push({name:"owner-dishes"}),a.next=17;break;case 13:a.prev=13,a.t0=a["catch"](1),t.isProcessing=!1,p["a"].fire({type:"error",title:"無法更新餐點，請稍後再試"});case 17:case"end":return a.stop()}}),a,null,[[1,13]])})))()},handleAfterDelete:function(){var e=this;return Object(c["a"])(Object(r["a"])().mark((function t(){var a,s,i,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isProcessing=!0,t.prev=1,a=e.$route.params.dish_id,t.next=5,f["a"].dishes.deleteDish({dishId:a});case 5:if(s=t.sent,i=s.data,n=s.statusText,"success"===i.status&&"OK"===n){t.next=10;break}throw new Error(i.message);case 10:e.$router.push({name:"owner-dishes"}),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),e.isProcessing=!1,p["a"].fire({type:"error",title:"無法刪除餐點，請稍後再試"});case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()}}},b=v,m=(a("d66e"),a("2877")),g=Object(m["a"])(b,s,i,!1,null,"2c614250",null);t["default"]=g.exports},"555f":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"icecream-container",style:{height:e.height}},[t("div",{staticClass:"icecream-content py-5"},[e._l(3,(function(e){return t("h1",{key:e,staticClass:"icecream"},[t("i",{staticClass:"fas fa-ice-cream"})])})),t("small",{staticClass:"icecream-description"},[e._v(" 準備中 ")])],2)])},i=[],r={props:{height:{type:String,default:"100vh"}}},n=r,c=(a("db9a"),a("2877")),o=Object(c["a"])(n,s,i,!1,null,"2e263baa",null);t["a"]=o.exports},ab0f:function(e,t,a){},ad14:function(e,t,a){},d66e:function(e,t,a){"use strict";a("ab0f")},db9a:function(e,t,a){"use strict";a("ad14")}}]);
//# sourceMappingURL=chunk-63ce4bb8.44c3da6a.js.map