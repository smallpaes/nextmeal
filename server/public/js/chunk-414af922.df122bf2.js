(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-414af922"],{"087c":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"wrapper d-flex h-100"},[t("OwnerSideNavBar",{attrs:{"nav-is-open":e.navIsOpen}}),t("section",{staticClass:"dish flex-fill"},[t("NavbarToggler",{attrs:{"nav-is-open":e.navIsOpen},on:{"toggle-navbar":function(t){e.navIsOpen=!e.navIsOpen}}}),t("h1",{staticClass:"dish-title"},[e._v("\n      餐點資訊\n    ")]),t("OwnerDishNavPill",{staticClass:"mt-4 ml-1"}),t("hr",{staticClass:"dish-divider"}),e.isLoading?t("Loader",{attrs:{height:"300px"}}):e._e(),t("transition",{attrs:{name:"slide"}},[e.isLoading?e._e():t("div",{staticClass:"dish-form-container pb-4"},[t("OwnerDishForm",{attrs:{"initial-dish":e.dish,"initial-processing":e.isProcessing},on:{"after-submit":e.handleAfterSubmit,"after-delete":e.handleAfterDelete},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",[e._v("編輯")])]},proxy:!0},{key:"submitBtn",fn:function(){return[t("span",[e._v("更新")])]},proxy:!0}],null,!1,1684497721)})],1)])],1)],1)},n=[],a=(r("8e6e"),r("ac6a"),r("456d"),r("7f7f"),r("bd86")),i=(r("96cf"),r("3b8d")),c=r("0a76"),o=r("0f14d"),u=r("fb59"),h=r("f7c4"),d=r("555f"),f=r("bcc2"),p=r("2fa3");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={components:{OwnerSideNavBar:c["a"],NavbarToggler:o["a"],OwnerDishNavPill:u["a"],OwnerDishForm:h["a"],Loader:d["a"]},data:function(){return{dish:{name:"",description:"",image:""},isLoading:!0,isProcessing:!1,navIsOpen:!1}},created:function(){var e=this.$route.params.dish_id;this.fetchDishData(e)},beforeRouteUpdate:function(e,t,r){var s=e.params.dish_id;this.fetchDishData(s),r()},methods:{fetchDishData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f["a"].dishes.getEdit({dishId:t});case 3:if(r=e.sent,s=r.data,n=r.statusText,"success"===s.status&&"OK"===n){e.next=8;break}throw new Error(s.message);case 8:this.dish=m(m({},this.dish),{},{name:s.meal.name,description:s.meal.description,image:s.meal.image}),this.isLoading=!1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),this.isLoading=!1,p["a"].fire({type:"error",title:"無法更新資料，請稍後再試"});case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(t){return e.apply(this,arguments)}return t}(),handleAfterSubmit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isProcessing=!0,e.prev=1,r=this.$route.params.dish_id,e.next=5,f["a"].dishes.putEdit({dishId:r,formData:t});case 5:if(s=e.sent,n=s.data,a=s.statusText,"success"===n.status&&"OK"===a){e.next=10;break}throw new Error(n.message);case 10:this.$router.push({name:"owner-dishes"}),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](1),this.isProcessing=!1,p["a"].fire({type:"error",title:"無法更新餐點，請稍後再試"});case 17:case"end":return e.stop()}}),e,this,[[1,13]])})));function t(t){return e.apply(this,arguments)}return t}(),handleAfterDelete:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isProcessing=!0,e.prev=1,t=this.$route.params.dish_id,e.next=5,f["a"].dishes.deleteDish({dishId:t});case 5:if(r=e.sent,s=r.data,n=r.statusText,"success"===s.status&&"OK"===n){e.next=10;break}throw new Error(s.message);case 10:this.$router.push({name:"owner-dishes"}),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](1),this.isProcessing=!1,p["a"].fire({type:"error",title:"無法刪除餐點，請稍後再試"});case 17:case"end":return e.stop()}}),e,this,[[1,13]])})));function t(){return e.apply(this,arguments)}return t}()}},b=v,g=(r("d66e"),r("2877")),O=Object(g["a"])(b,s,n,!1,null,"2c614250",null);t["default"]=O.exports},"3e7e":function(e,t,r){},"555f":function(e,t,r){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"icecream-container",style:{height:e.height}},[t("div",{staticClass:"icecream-content py-5"},[e._l(3,(function(e){return t("h1",{key:e,staticClass:"icecream"},[t("i",{staticClass:"fas fa-ice-cream"})])})),t("small",{staticClass:"icecream-description"},[e._v("\n      準備中\n    ")])],2)])},n=[],a={props:{height:{type:String,default:"100vh"}}},i=a,c=(r("db9a"),r("2877")),o=Object(c["a"])(i,s,n,!1,null,"2e263baa",null);t["a"]=o.exports},"9d9f":function(e,t,r){},d66e:function(e,t,r){"use strict";r("3e7e")},db9a:function(e,t,r){"use strict";r("9d9f")}}]);
//# sourceMappingURL=chunk-414af922.df122bf2.js.map