(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74bb2b1a"],{"2f3b":function(t,a,s){},"678c":function(t,a,s){"use strict";s("9f3c")},"6e4c":function(t,a,s){},"7f4e":function(t,a,s){"use strict";s("2f3b")},"9f3c":function(t,a,s){},a83b:function(t,a,s){"use strict";s.r(a);s("7f7f");var r=function(){var t=this,a=t._self._c;return a("section",{staticClass:"wrapper vh-100"},[a("AdminSideNavBar",{attrs:{"nav-is-open":t.navIsOpen}}),a("section",{staticClass:"dashboard"},[a("NavbarToggler",{attrs:{"nav-is-open":t.navIsOpen},on:{"toggle-navbar":function(a){t.navIsOpen=!t.navIsOpen}}}),a("h1",{staticClass:"dashboard-title"},[t._v("\n      平台分析\n    ")]),a("hr",{staticClass:"dashboard-divider"}),t.isLoading?a("Loader",{attrs:{height:"300px"}}):t._e(),a("transition",{attrs:{name:"slide"}},[t.isLoading?t._e():a("AdminDashboardToday",{attrs:{"order-today":t.orderToday}})],1),a("transition",{attrs:{name:"slide"}},[t.isLoading?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-4"},[a("LineChartCard",{attrs:{"chart-data":t.data.singleData.orders,height:160},scopedSlots:t._u([{key:"header",fn:function(){return[a("i",{staticClass:"fas fa-clipboard-list mr-2"}),t._v(t._s(t.data.singleData.orders.name)+"\n            ")]},proxy:!0},{key:"title",fn:function(){return[t._v("\n              平台"+t._s(t.data.singleData.orders.name)+"總數\n            ")]},proxy:!0},{key:"text",fn:function(){return[a("span",{style:{color:"rgb(93,90,87)"}},[t._v(t._s(t.data.singleData.orders.total))])]},proxy:!0},{key:"subtext",fn:function(){return[a("span",[a("i",{staticClass:"fas fa-chevron-up mr-1"}),t._v(t._s(t.data.singleData.orders.thisMonth)+" / 本月")])]},proxy:!0}],null,!1,124720583)})],1),a("div",{staticClass:"col-md-6 mb-4"},[a("LineChartCard",{attrs:{"chart-data":t.data.singleData.restaurants,height:160},scopedSlots:t._u([{key:"header",fn:function(){return[a("i",{staticClass:"fas fa-store mr-2"}),t._v(t._s(t.data.singleData.restaurants.name)+"\n            ")]},proxy:!0},{key:"title",fn:function(){return[t._v("\n              平台"+t._s(t.data.singleData.restaurants.name)+"總數\n            ")]},proxy:!0},{key:"text",fn:function(){return[a("span",{style:{color:"rgb(93,90,87)"}},[t._v(t._s(t.data.singleData.restaurants.total))])]},proxy:!0},{key:"subtext",fn:function(){return[a("span",[a("i",{staticClass:"fas fa-chevron-up mr-1"}),t._v(t._s(t.data.singleData.restaurants.thisMonth)+" / 本月")])]},proxy:!0}],null,!1,669354491)})],1),a("div",{staticClass:"col-md-6 mb-4"},[a("LineChartCard",{attrs:{"chart-data":t.data.multipleData.subscriptions,height:160},scopedSlots:t._u([{key:"header",fn:function(){return[a("i",{staticClass:"far fa-credit-card mr-2"}),t._v(t._s(t.data.multipleData.subscriptions.name)+"\n            ")]},proxy:!0},{key:"title",fn:function(){return[t._v("\n              平台"+t._s(t.data.multipleData.subscriptions.name)+"總數\n            ")]},proxy:!0},{key:"text",fn:function(){return[a("span",{style:{color:"rgb(93,90,87)"}},[t._v(t._s(t.data.multipleData.subscriptions.total))])]},proxy:!0},{key:"subtext",fn:function(){return[a("span",{style:{color:t.data.multipleData.subscriptions.datasets[0].borderColor}},[t._v("・10餐")]),a("span",{style:{color:t.data.multipleData.subscriptions.datasets[1].borderColor}},[t._v("・20餐")])]},proxy:!0}],null,!1,3335629049)})],1),a("div",{staticClass:"col-md-6 mb-4"},[a("PieChartCard",{attrs:{"chart-data":t.data.singleData.users,height:160},scopedSlots:t._u([{key:"header",fn:function(){return[a("i",{staticClass:"fas fa-users mr-2"}),t._v(t._s(t.data.singleData.users.name)+"\n            ")]},proxy:!0},{key:"title",fn:function(){return[t._v("\n              平台"+t._s(t.data.singleData.users.name)+"總數\n            ")]},proxy:!0},{key:"text",fn:function(){return[a("span",{style:{color:"rgb(93,90,87)"}},[t._v(t._s(t.data.singleData.users.total))])]},proxy:!0}],null,!1,3243307581)})],1)])])],1)],1)},e=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),i=(s("96cf"),s("3b8d")),o=s("e9e5"),c=s("0f14d"),d=function(){var t=this,a=t._self._c;return a("div",{staticClass:"card rounded-sm shadow-sm border-0 mb-4"},[t._m(0),a("div",{staticClass:"card-body row"},[a("div",{staticClass:"col-12 col-sm-6 col-lg-3 card-item mb-4 mb-lg-0"},[t._m(1),a("div",{staticClass:"card-item-right"},[a("div",{staticClass:"card-item-title"},[t._v("\n          訂單量\n        ")]),a("div",{staticClass:"card-item-text"},[t._v("\n          "+t._s(t.orderToday.orderNum)+"\n        ")])])]),a("div",{staticClass:"col-12 col-sm-6 col-lg-3 card-item mb-4 mb-lg-0"},[t._m(2),a("div",{staticClass:"card-item-right"},[a("div",{staticClass:"card-item-title"},[t._v("\n          餐廳數\n        ")]),a("div",{staticClass:"card-item-text"},[t._v("\n          + "+t._s(t.orderToday.restIncreased)+"\n        ")])])]),a("div",{staticClass:"col-12 col-sm-6 col-lg-3 mb-4 mb-md-0 card-item"},[t._m(3),a("div",{staticClass:"card-item-right"},[a("div",{staticClass:"card-item-title"},[t._v("\n          會員數\n        ")]),a("div",{staticClass:"card-item-text"},[t._v("\n          + "+t._s(t.orderToday.userIncreased)+"\n        ")])])]),a("div",{staticClass:"col-12 col-sm-6 col-lg-3 card-item"},[t._m(4),a("div",{staticClass:"card-item-right"},[a("div",{staticClass:"card-item-title"},[t._v("\n          訂閱量\n        ")]),a("div",{staticClass:"card-item-text"},[t._v("\n          + "+t._s(t.orderToday.subtIncreased)+"\n        ")])])])])])},l=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-header bg-white"},[a("i",{staticClass:"fas fa-chart-area mr-2"}),t._v("今日概況\n  ")])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-item-left"},[a("div",{staticClass:"card-item-icon"},[a("i",{staticClass:"fas fa-clipboard-list"})])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-item-left"},[a("div",{staticClass:"card-item-icon"},[a("i",{staticClass:"fas fa-store"})])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-item-left"},[a("div",{staticClass:"card-item-icon"},[a("i",{staticClass:"fas fa-users"})])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-item-left"},[a("div",{staticClass:"card-item-icon"},[a("i",{staticClass:"far fa-credit-card"})])])}],u={props:{orderToday:{type:Object,required:!0}}},p=u,v=(s("7f4e"),s("2877")),f=Object(v["a"])(p,d,l,!1,null,"2f5146a0",null),b=f.exports,m=s("e234"),g=s("6e61"),h=s("555f"),C=s("be6c"),_=s("2fa3");function y(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),s.push.apply(s,r)}return s}function k(t){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?y(Object(s),!0).forEach((function(a){Object(n["a"])(t,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))}))}return t}var D={components:{AdminSideNavBar:o["a"],NavbarToggler:c["a"],Loader:h["a"],AdminDashboardToday:b,LineChartCard:m["a"],PieChartCard:g["a"]},data:function(){return{isLoading:!0,navIsOpen:!1,orderToday:{},color:"rgb(239, 75, 77)",data:{singleData:{orders:{datasets:[{borderColor:"rgb(247,185,36)",backgroundColor:"rgb(253,241,211)",pointBackgroundColor:"rgb(255,255,255)",pointHoverBackgroundColor:"rgb(255,255,255)",pointBorderWidth:3,pointHoverBorderWidth:2}]},restaurants:{datasets:[{borderColor:"rgb(138,226,183)",backgroundColor:"rgb(242,251,247)",pointBackgroundColor:"rgb(255,255,255)",pointHoverBackgroundColor:"rgb(255,255,255)",pointBorderWidth:3,pointHoverBorderWidth:2}]},users:{datasets:[{backgroundColor:["rgb(255,140,52)","rgb(78,202,138)"]}]}},multipleData:{subscriptions:{datasets:[{backgroundColor:"rgba(255,255,255,0)",borderColor:"rgb(62,160,252)",pointBackgroundColor:"rgb(62,160,252)",pointBorderWidth:2,pointHoverBorderWidth:3},{backgroundColor:"rgba(255,255,255,0)",borderColor:"rgb(239,75,77)",pointBackgroundColor:"rgb(239,75,77)",pointBorderWidth:2,pointHoverBorderWidth:3}]}}}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,r,e,n,i,o,c,d,l,u,p,v,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C["a"].dashboard.getDashboard();case 3:if(a=t.sent,s=a.data,r=a.statusText,"success"===s.status&&"OK"===r){t.next=8;break}throw new Error(s.message);case 8:for(c in e=s.userIncreased,n=s.restIncreased,i=s.subtIncreased,o=s.order_num,this.orderToday={userIncreased:e,restIncreased:n,subtIncreased:i,orderNum:o},this.data.singleData)d=s[c],l=d.labels,u=d.data,p=d.total,v=d.thisMonth,f=d.tableName,this.data.singleData[c]=k(k({},this.data.singleData[c]),{},{labels:l,total:p,thisMonth:v,name:f,datasets:[k(k({},this.data.singleData[c].datasets[0]),{},{data:u})]});this.data.multipleData.subscriptions=k(k({},this.data.multipleData.subscriptions),{},{total:s.subscriptions.total,labels:s.subscriptions.labels,name:s.subscriptions.tableName,datasets:[k(k({},this.data.multipleData.subscriptions.datasets[0]),s.subscriptions.datasets[0]),k(k({},this.data.multipleData.subscriptions.datasets[1]),s.subscriptions.datasets[1])]}),this.isLoading=!1,t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),this.isLoading=!1,_["a"].fire({type:"error",title:"無法取得資料，請稍後再試"});case 19:case"end":return t.stop()}}),t,this,[[0,15]])})));function a(){return t.apply(this,arguments)}return a}()}},x=D,O=(s("678c"),Object(v["a"])(x,r,e,!1,null,"68385373",null));a["default"]=O.exports},be6c:function(t,a,s){"use strict";s("6b54"),s("7f7f");var r=s("2fa3");a["a"]={restaurants:{getRestaurants:function(t){var a=t.name,s=t.dist,e=t.page,n=new URLSearchParams({name:a,dist:s,page:e});return r["b"].get("/admin/restaurants?".concat(n.toString()))},getRestaurant:function(t){var a=t.restaurantId;return r["b"].get("/admin/restaurants/".concat(a))},putRestaurant:function(t){var a=t.restaurantId,s=t.formData;return r["b"].put("/admin/restaurants/".concat(a),s)},deleteRestaurant:function(t){var a=t.restaurantId;return r["b"].delete("/admin/restaurants/".concat(a))}},users:{getUser:function(t){var a=t.userId;return r["b"].get("/admin/users/".concat(a))},getUsers:function(t){var a=t.subscriptionStatus,s=t.name,e=t.page,n=new URLSearchParams({sub_status:a,name:s,page:e});return r["b"].get("/admin/users?".concat(n.toString()))},deleteUser:function(t){var a=t.userId;return r["b"].delete("/admin/users/".concat(a))},putUser:function(t){var a=t.userId,s=t.formData;return r["b"].put("/admin/users/".concat(a),s)}},orders:{getOrders:function(t){var a=t.id,s=t.date,e=t.status,n=t.page,i=new URLSearchParams({page:n,order_id:a,date:s,order_status:e});return r["b"].get("/admin/orders?".concat(i.toString()))},putOrder:function(t){var a=t.orderId;return r["b"].put("/admin/orders/".concat(a),{})}},dashboard:{getDashboard:function(){return r["b"].get("/admin/dashboard")}}}},e9e5:function(t,a,s){"use strict";var r=function(){var t=this,a=t._self._c;return a("nav",{staticClass:"sidenav shadow",class:{opened:t.navIsOpen}},[a("div",{staticClass:"sidenav-brand-container text-center py-5"},[a("router-link",{staticClass:"sidenav-brand",attrs:{to:{name:"home"}}},[t._v("\n      NextMeal\n    ")])],1),a("ul",{staticClass:"sidenav-nav px-0 text-center"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"admin-restaurants"},"active-class":"active"}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-store"})]),a("span",{staticClass:"nav-link-description"},[t._v("餐廳")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"admin-users"},"active-class":"active"}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-user"})]),a("span",{staticClass:"nav-link-description"},[t._v("用戶")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"admin-orders"},"active-class":"active"}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-clipboard-list"})]),a("span",{staticClass:"nav-link-description"},[t._v("訂單")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"admin-dashboard"},"active-class":"active"}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-chart-line"})]),a("span",{staticClass:"nav-link-description"},[t._v("分析")])])],1),a("li",{staticClass:"nav-divider"}),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#",role:"button"},on:{click:t.logout}},[t._m(0),a("span",{staticClass:"nav-link-description"},[t._v("登出")])])])])])},e=[function(){var t=this,a=t._self._c;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-sign-out-alt"})])}],n={props:{navIsOpen:{type:Boolean,required:!0}},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/")}}},i=n,o=(s("ed73"),s("2877")),c=Object(o["a"])(i,r,e,!1,null,"d34dbf0e",null);a["a"]=c.exports},ed73:function(t,a,s){"use strict";s("6e4c")}}]);
//# sourceMappingURL=chunk-74bb2b1a.41ec60a8.js.map