(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2824645e"],{1331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=(0,r.regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=a},"26f8":function(e,t,n){"use strict";n("8434")},"2a12":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(e){return(0,r.withParams)({type:"maxLength",max:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)<=e}))};t.default=a},"2a35":function(e,t,n){"use strict";n("3876")},3360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:"and"},(function(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.length>0&&t.reduce((function(t,n){return t&&n.apply(e,r)}),!0)}))};t.default=a},3876:function(e,t,n){},"3a54":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=(0,r.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=a},"45b8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=(0,r.regex)("numeric",/^[0-9]*$/);t.default=a},"46bc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(e){return(0,r.withParams)({type:"maxValue",max:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))};t.default=a},"4c51":function(e,t,n){"use strict";n("7b7a")},"5d75":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,i=(0,r.regex)("email",a);t.default=i},"5db3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(e){return(0,r.withParams)({type:"minLength",min:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)>=e}))};t.default=a},6235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=(0,r.regex)("alpha",/^[a-zA-Z]*$/);t.default=a},6417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(e){return(0,r.withParams)({type:"not"},(function(t,n){return!(0,r.req)(t)||!e.call(this,t,n)}))};t.default=a},"772d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,i=(0,r.regex)("url",a);t.default=i},"78ef":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.regex=t.ref=t.len=void 0,Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return r.default}});var r=a(n("8750"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var u=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===i(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=u;var o=function(e){return Array.isArray(e)?e.length:"object"===i(e)?Object.keys(e).length:String(e).length};t.len=o;var s=function(e,t,n){return"function"===typeof e?e.call(t,n):n[e]};t.ref=s;var c=function(e,t){return(0,r.default)({type:e},(function(e){return!u(e)||t.test(e)}))};t.regex=c},"7b7a":function(e,t,n){},8434:function(e,t,n){},8750:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="web"===Object({NODE_ENV:"production",VUE_APP_GOOGLE:"AIzaSyB0rZtof4Nbq6E1R9efTVycrTkwI_czyLQ",BASE_URL:"/"}).BUILD?n("cb69").withParams:n("0234").withParams,a=r;t.default=a},"91d3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,r.withParams)({type:"macAddress"},(function(t){if(!(0,r.req)(t))return!0;if("string"!==typeof t)return!1;var n="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==n&&(6===n.length||8===n.length)&&n.every(i)}))};t.default=a;var i=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},aa82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(e){return(0,r.withParams)({type:"requiredIf",prop:e},(function(t,n){return!(0,r.ref)(e,this,n)||(0,r.req)(t)}))};t.default=a},b5ae:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return s.default}}),t.helpers=void 0,Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return y.default}});var a=S(n("6235")),i=S(n("3a54")),u=S(n("45b8")),o=S(n("ec11")),s=S(n("5d75")),c=S(n("c99d")),f=S(n("91d3")),l=S(n("2a12")),d=S(n("5db3")),p=S(n("d4f4")),m=S(n("aa82")),v=S(n("e652")),b=S(n("b6cb")),y=S(n("772d")),h=S(n("d294")),g=S(n("3360")),_=S(n("6417")),x=S(n("eb66")),O=S(n("46bc")),P=S(n("1331")),j=S(n("c301")),w=M(n("78ef"));function q(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=i?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(a,u,o):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}function S(e){return e&&e.__esModule?e:{default:e}}t.helpers=w},b6cb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(e){return(0,r.withParams)({type:"sameAs",eq:e},(function(t,n){return t===(0,r.ref)(e,this,n)}))};t.default=a},b8bb:function(e,t,n){"use strict";n("d81d"),n("4de4"),n("d3b7"),n("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group",class:{invalid:e.v.$error}},[e.$slots.label?t("label",{attrs:{for:"category"}},[e._t("label")],2):e._e(),t("div",{staticClass:"form-select-control"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"data"}],staticClass:"form-control",attrs:{required:"",disabled:e.isProcessing},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.data=t.target.multiple?n:n[0]},function(t){return e.v.$touch()}]}},[t("option",{attrs:{value:"",selected:""}},[e._t("option")],2),e._l(e.options,(function(n){return t("option",{key:n.id,domProps:{value:n[e.target],selected:n[e.target]===e.value}},[e._v(" "+e._s(n.name)+" ")])}))],2),t("div",{staticClass:"invalid-feedback"})]),e.v.$error?t("small",{staticClass:"form-text"},[e._t("invalid")],2):e._e()])},a=[],i=(n("a9e3"),{props:{value:{type:[String,Number],required:!0},options:{type:Array,required:!0},v:{type:Object,required:!0},target:{type:String,required:!0},isProcessing:{type:Boolean,default:!1}},computed:{data:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}}),u=i,o=(n("2a35"),n("2877")),s=Object(o["a"])(u,r,a,!1,null,"5cd51da7",null);t["a"]=s.exports},c301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=(0,r.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=a},c901:function(e,t,n){"use strict";n("d2ef")},c99d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=(0,r.withParams)({type:"ipAddress"},(function(e){if(!(0,r.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(i)}));t.default=a;var i=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},cb69:function(e,t,n){"use strict";(function(e){function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var r="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},a=function(e,t){return"object"===n(e)&&void 0!==t?t:e((function(){}))},i=r.vuelidate?r.vuelidate.withParams:a;t.withParams=i}).call(this,n("c8ba"))},d294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:"or"},(function(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.length>0&&t.reduce((function(t,n){return t||n.apply(e,r)}),!1)}))};t.default=a},d2ef:function(e,t,n){},d4f4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=(0,r.withParams)({type:"required"},(function(e){return"string"===typeof e?(0,r.req)(e.trim()):(0,r.req)(e)}));t.default=a},d81d:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").map,i=n("1dde"),u=i("map");r({target:"Array",proto:!0,forced:!u},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},e652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(e){return(0,r.withParams)({type:"requiredUnless",prop:e},(function(t,n){return!!(0,r.ref)(e,this,n)||(0,r.req)(t)}))};t.default=a},eb66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(e){return(0,r.withParams)({type:"minValue",min:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))};t.default=a},ec11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),a=function(e,t){return(0,r.withParams)({type:"between",min:e,max:t},(function(n){return!(0,r.req)(n)||(!/\s/.test(n)||n instanceof Date)&&+e<=+n&&+t>=+n}))};t.default=a},f0ce:function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("button",{staticClass:"btn",class:"btn-"+e.color+"-color",style:{"border-radius":e.borderRadius},attrs:{disabled:e.isProcessing||e.v.$invalid},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.$emit("after-click"),e.isCurrentButton=!0}}},[!e.isProcessing||e.isProcessing&&!e.isCurrentButton?[e._t("initial")]:e._e(),e.isProcessing&&e.isCurrentButton?[e._v(" 處理中 ... ")]:e._e()],2)},a=[],i={props:{isProcessing:{type:Boolean,default:!1},v:{type:Object,required:!0},color:{type:String,default:"primary"},borderRadius:{type:String,default:"1rem"}},data:function(){return{isCurrentButton:!1}},watch:{isProcessing:function(e){e||(this.isCurrentButton=!1)}}},u=i,o=(n("4c51"),n("2877")),s=Object(o["a"])(u,r,a,!1,null,"35aea9ab",null);t["a"]=s.exports},f640:function(e,t,n){"use strict";n.r(t);n("b64b"),n("b0c0");var r=function(){var e=this,t=e._self._c;return t("section",{staticClass:"wrapper d-flex vh-100"},[t("OwnerSideNavBar",{attrs:{"nav-is-open":e.navIsOpen}}),t("section",{staticClass:"menu flex-fill"},[t("NavbarToggler",{attrs:{"nav-is-open":e.navIsOpen},on:{"toggle-navbar":function(t){e.navIsOpen=!e.navIsOpen}}}),t("h1",{staticClass:"menu-title"},[e._v(" 餐點資訊 ")]),t("OwnerDishNavPill",{staticClass:"mt-4 ml-1"}),t("hr",{staticClass:"menu-divider"}),e.isLoading?t("Loader",{attrs:{height:"300px"}}):e._e(),t("transition",{attrs:{name:"slide"}},[e.isLoading?e._e():t("section",{staticClass:"menu-content mb-4"},[t("div",{staticClass:"menu-card-container row mx-0 p-3 rounded-sm shadow-sm"},[Object.keys(e.meal).length>0&&("thisWeek"===e.$route.query.ran||"nextWeek"===e.$route.query.ran&&e.meal.nextServing_quantity)?e._l(e.days,(function(n){return t("OwnerDishCard",{key:n,staticClass:"col-12 pb-0 pb-md-2 px-0 mb-0 mb-md-2",attrs:{image:e.meal.image,"edit-btn":"nextWeek"===e.$route.query.ran&&0!==e.currentDay},on:{edit:e.handleEditMeal},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(n)+" ")]},proxy:!0},{key:"primary-description",fn:function(){return[t("span",{staticClass:"d-none d-md-inline"},[e._v("餐點名稱：")]),e._v(" "+e._s(e.meal.name)+" ")]},proxy:!0},{key:"secondary-description",fn:function(){return[t("span",{staticClass:"d-none d-md-inline"},[e._v("供應數量")]),e._v(" ："+e._s("thisWeek"===e.$route.query.ran?e.meal.quantity:e.meal.nextServing_quantity||0)+"份 ")]},proxy:!0}],null,!0)})})):t("PlaceholderMessage",{staticClass:"placeholder-message col-12 py-4 text-center"},[e.currentUser.hasRestaurant?[t("h1",[t("i",{staticClass:"fas fa-utensils"})]),e._v(" 尚未提供餐點 ")]:[t("h1",[t("i",{staticClass:"fas fa-exclamation-circle"})]),e._v(" 請先至「餐廳」頁面填寫資料"),t("br"),e._v("完成開店流程 ")]],2)],2),"nextWeek"===e.$route.query.ran&&e.currentUser.hasRestaurant?t("OwnerMenuForm",{ref:"editForm",staticClass:"menu-form",attrs:{"initial-meal":Object.keys(e.meal).length>0?e.meal:{},options:e.options},on:{"after-submit":e.handleAfterSubmit}}):e._e()],1)])],1)],1)},a=[],i=n("c7eb"),u=n("1da1"),o=n("5530"),s=(n("14d9"),n("d9e2"),n("0a76")),c=n("0f14d"),f=n("fb59"),l=n("e64f"),d=function(){var e=this,t=e._self._c;return t("form",{staticClass:"form p-4 rounded shadow-sm",attrs:{novalidate:""}},[t("h3",{staticClass:"form-header mb-4"},[e._v(" 更新下週菜單 ")]),t("CustomSelect",{attrs:{options:e.options,v:e.$v.id,target:"id"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" 餐點 ")]},proxy:!0},{key:"option",fn:function(){return[e._v(" 選擇餐點 ")]},proxy:!0},{key:"invalid",fn:function(){return[e._v(" 請選擇一種餐點 ")]},proxy:!0}]),model:{value:e.id,callback:function(t){e.id=t},expression:"id"}}),t("div",{staticClass:"form-group",class:{invalid:e.$v.quantity.$error}},[t("label",{attrs:{for:"quantity"}},[e._v("供應數量")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"quantity",type:"number",min:"1",max:"50",required:""},domProps:{value:e.quantity},on:{input:[function(t){t.target.composing||(e.quantity=e._n(t.target.value))},function(t){return e.$v.quantity.$touch()}],blur:function(t){return e.$forceUpdate()}}}),e.$v.quantity.$error?t("small",{staticClass:"form-text"},[e._v("請填寫欲提供的數量，最少 1 份和最多 50 份")]):e._e()]),t("div",{staticClass:"btn-container mt-4"},[t("ProcessButton",{staticClass:"btn",attrs:{"is-processing":e.isProcessing,v:e.$v},on:{"after-click":e.handleSubmit},scopedSlots:e._u([{key:"initial",fn:function(){return[e._v(" 更新 ")]},proxy:!0}])})],1)],1)},p=[],m=n("b8bb"),v=n("f0ce"),b=n("bcc2"),y=n("2fa3"),h=n("b5ae"),g={components:{CustomSelect:m["a"],ProcessButton:v["a"]},props:{initialMeal:{type:Object,default:function(){return{id:"",name:"",nextServing_quantity:0}}},options:{type:Array,required:!0}},data:function(){return{quantity:0,id:"",isProcessing:!1}},validations:{id:{required:h["required"]},quantity:{required:h["required"],between:Object(h["between"])(1,50)}},watch:{initialMeal:function(e){this.id=e.id||this.id,this.quantity=e.nextServing_quantity||this.quantity}},created:function(){this.id=this.initialMeal.id||this.id,this.quantity=this.initialMeal.nextServing_quantity||this.quantity},methods:{handleSubmit:function(e){var t=this;return Object(u["a"])(Object(i["a"])().mark((function e(){var n,r,a,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={id:t.id,quantity:t.quantity},t.isProcessing=!0,e.prev=2,e.next=5,b["a"].menu.putMenu(n);case 5:if(r=e.sent,a=r.data,u=r.statusText,"success"===a.status&&"OK"===u){e.next=10;break}throw new Error(a.message);case 10:t.$emit("after-submit",{id:n.id,nextServing_quantity:n.quantity,name:a.meal.name,image:a.meal.image}),y["a"].fire({type:"success",title:"成功更新下週菜單！"}),t.isProcessing=!1,e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](2),t.isProcessing=!1,y["a"].fire({type:"error",title:"無法更新下週菜單，請稍後再試"});case 19:case"end":return e.stop()}}),e,null,[[2,15]])})))()}}},_=g,x=(n("26f8"),n("2877")),O=Object(x["a"])(_,d,p,!1,null,"1d0943a6",null),P=O.exports,j=n("d691"),w=n("555f"),q=n("2f62"),M={components:{OwnerSideNavBar:s["a"],OwnerDishNavPill:f["a"],NavbarToggler:c["a"],OwnerDishCard:l["a"],OwnerMenuForm:P,PlaceholderMessage:j["a"],Loader:w["a"]},data:function(){return{meal:{id:"",name:"",description:"",image:"",quantity:0,nextServing_quantity:0,isServing:!1,nextServing:!1},options:[],days:["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],isLoading:!0,navIsOpen:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(q["c"])(["currentUser"])),{},{currentDay:function(){var e=new Date;return e.getDay()}}),created:function(){var e=this.$route.query.ran;(!e||"thisWeek"!==e&&"nextWeek"!==e)&&this.$router.push({name:"not-found"}),this.fetchMeal(e)},beforeRouteUpdate:function(e,t,n){var r=e.query.ran;(!r||"thisWeek"!==r&&"nextWeek"!==r)&&n({name:"not-found"}),this.fetchMeal(r),n()},methods:{fetchMeal:function(e){var t=this;return Object(u["a"])(Object(i["a"])().mark((function n(){var r,a,u;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.isLoading=!0,n.next=4,b["a"].menu.getMenu({ran:e});case 4:if(r=n.sent,a=r.data,u=r.statusText,"success"===a.status&&"OK"===u){n.next=9;break}throw new Error(a.message);case 9:t.meal=a.meals.length?a.meals[0]:{},a.options&&(t.options=a.options),t.isLoading=!1,n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](0),t.isLoading=!1,y["a"].fire({type:"error",title:"無法取得本週菜單，請稍後再試"});case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))()},handleEditMeal:function(){var e=this.$refs.editForm.$el,t=e.offsetTop;window.scrollTo({top:t,behavior:"smooth"})},handleAfterSubmit:function(e){this.meal=Object(o["a"])(Object(o["a"])({},this.meal),e)}}},S=M,k=(n("c901"),Object(x["a"])(S,r,a,!1,null,"9cf0011e",null));t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2824645e.7c9919bf.js.map