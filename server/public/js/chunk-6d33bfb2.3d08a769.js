(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d33bfb2"],{"0a76":function(t,e,n){"use strict";n("7f7f");var r=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"sidenav shadow",class:{opened:t.navIsOpen}},[e("div",{staticClass:"sidenav-brand-container text-center py-5"},[e("router-link",{staticClass:"sidenav-brand",attrs:{to:{name:"home"}}},[t._v("\n      NextMeal\n    ")])],1),e("ul",{staticClass:"sidenav-nav px-0 text-center"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"owner-info"}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-store"})]),e("span",{staticClass:"nav-link-description"},[t._v("餐廳")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"owner-menu"===t.$route.name},attrs:{to:{name:"owner-dishes"},"active-class":"active"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-utensils"})]),e("span",{staticClass:"nav-link-description"},[t._v("餐點")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"owner-orders"},"active-class":"active"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-clipboard-list"})]),e("span",{staticClass:"nav-link-description"},[t._v("訂單")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"owner-dashboard"},"active-class":"active"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-chart-line"})]),e("span",{staticClass:"nav-link-description"},[t._v("分析")])])],1),e("li",{staticClass:"nav-divider"}),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#",role:"button"},on:{click:t.logout}},[t._m(0),e("span",{staticClass:"nav-link-description"},[t._v("登出")])])])])])},a=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-sign-out-alt"})])}],s={props:{navIsOpen:{type:Boolean,required:!0}},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/")}}},i=s,o=(n("dd72"),n("2877")),c=Object(o["a"])(i,r,a,!1,null,"be936cce",null);e["a"]=c.exports},"159e":function(t,e,n){"use strict";n("8e75")},"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),a=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}},"549b":function(t,e,n){"use strict";var r=n("d864"),a=n("63b6"),s=n("241e"),i=n("b0dc"),o=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");a(a.S+a.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,a,f,d=s(t),p="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,b=void 0!==h,g=0,m=l(d);if(b&&(h=r(h,v>2?arguments[2]:void 0,2)),void 0==m||p==Array&&o(m))for(e=c(d.length),n=new p(e);e>g;g++)u(n,g,b?h(d[g],g):d[g]);else for(f=m.call(d),n=new p;!(a=f.next()).done;g++)u(n,g,b?i(f,h,[a.value,g],!0):a.value);return n.length=g,n}})},"768b":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("a745"),a=n.n(r);function s(t){if(a()(t))return t}var i=n("67bb"),o=n.n(i),c=n("5d58"),u=n.n(c);function l(t,e){var n=null==t?null:"undefined"!=typeof o.a&&t[u.a]||t["@@iterator"];if(null!=n){var r,a,s,i,c=[],l=!0,f=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(d){f=!0,a=d}finally{try{if(!l&&null!=n["return"]&&(i=n["return"](),Object(i)!==i))return}finally{if(f)throw a}}return c}}var f=n("e630");function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,e){return s(t)||l(t,e)||Object(f["a"])(t,e)||d()}},"774e":function(t,e,n){t.exports=n("d2d5")},"8e75":function(t,e,n){},a745:function(t,e,n){t.exports=n("f410")},bcc2:function(t,e,n){"use strict";var r=n("2fa3");e["a"]={restaurants:{get:function(){return r["b"].get("/owner")},post:function(t){return r["b"].post("/owner",t)},put:function(t){return r["b"].put("/owner",t)}},dishes:{getDishes:function(){return r["b"].get("/owner/dishes")},postNew:function(t){return r["b"].post("/owner/dishes",t)},getEdit:function(t){var e=t.dishId;return r["b"].get("/owner/dishes/".concat(e))},putEdit:function(t){var e=t.dishId,n=t.formData;return r["b"].put("/owner/dishes/".concat(e,"/edit"),n)},deleteDish:function(t){var e=t.dishId;return r["b"].delete("/owner/dishes/".concat(e))}},menu:{getMenu:function(t){var e=t.ran;return r["b"].get("/owner/menu?ran=".concat(e))},putMenu:function(t){return r["b"].put("/owner/menu",t)}},orders:{getOrders:function(){return r["b"].get("/owner/orders")}},dashboard:{getDashboard:function(){return r["b"].get("/owner/dashboard")}}}},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d2ef:function(t,e,n){},db2a:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},dd72:function(t,e,n){"use strict";n("d2ef")},e3fc:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("section",{staticClass:"wrapper d-flex vh-100"},[e("OwnerSideNavBar",{attrs:{"nav-is-open":t.navIsOpen}}),e("section",{staticClass:"info flex-fill"},[e("NavbarToggler",{attrs:{"nav-is-open":t.navIsOpen},on:{"toggle-navbar":function(e){t.navIsOpen=!t.navIsOpen}}}),e("h1",{staticClass:"info-title"},[t._v("\n      餐廳資訊\n    ")]),e("hr",{staticClass:"info-divider"}),t.isLoading?e("Loader",{attrs:{height:"300px"}}):t._e(),e("transition",{attrs:{name:"slide"}},[t.isLoading?t._e():e("RestaurantInfoForm",{staticClass:"info-form",attrs:{"initial-restaurant":t.restaurant,categories:t.categories,"initial-processing":t.isProcessing},on:{"after-submit":function(e){t.hasRestaurantData?t.updateRestaurant(e):t.createRestaurant(e)}}})],1)],1)],1)},a=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),i=n("a8db"),o=n("768b"),c=(n("96cf"),n("3b8d")),u=n("0a76"),l=n("0f14d"),f=n("5073"),d=n("555f"),p=n("bcc2"),v=n("2fa3"),h=["opening_hour","closing_hour"];function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={components:{OwnerSideNavBar:u["a"],NavbarToggler:l["a"],RestaurantInfoForm:f["a"],Loader:d["a"]},data:function(){return{restaurant:{},categories:[],hasRestaurantData:!1,isLoading:!0,isProcessing:!1,navIsOpen:!1}},created:function(){this.fetchRestaurantData()},methods:{fetchRestaurantData:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,s,c,u,l,f,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p["a"].restaurants.get();case 3:if(n=t.sent,r=n.data,a=n.statusText,"success"===r.status&&"OK"===a){t.next=8;break}throw new Error(r.message);case 8:if(r.restaurant){t.next=13;break}return this.hasRestaurantData=!1,this.categories=r.categories,this.isLoading=!1,t.abrupt("return");case 13:s=Object(o["a"])(r.restaurant,1),c=s[0],u=c.opening_hour,l=c.closing_hour,f=Object(i["a"])(c,h),d=r.categories,this.restaurant=g(g({},this.restaurant),{},{openingHour:u,closingHour:l},f),this.categories=d,this.hasRestaurantData=!0,this.isLoading=!1,t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](0),this.isLoading=!1,v["a"].fire({type:"error",title:"無法取得資料，請稍後再試"});case 24:case"end":return t.stop()}}),t,this,[[0,20]])})));function e(e){return t.apply(this,arguments)}return e}(),createRestaurant:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isProcessing=!0,t.next=4,p["a"].restaurants.post(e);case 4:if(n=t.sent,r=n.data,a=n.statusText,"success"===r.status&&"OK"===a){t.next=9;break}throw new Error(r.message);case 9:this.$store.commit("setCurrentUser",{hasRestaurant:!0}),v["a"].fire({type:"success",title:"新增成功"}),this.isProcessing=!1,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),this.isProcessing=!1,v["a"].fire({type:"error",title:"無法新增資料，請稍後再試"});case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(e){return t.apply(this,arguments)}return e}(),updateRestaurant:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isProcessing=!0,t.next=4,p["a"].restaurants.put(e);case 4:if(n=t.sent,r=n.data,a=n.statusText,"success"===r.status&&"OK"===a){t.next=9;break}throw new Error(r.message);case 9:v["a"].fire({type:"success",title:"更新成功"}),this.isProcessing=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),this.isProcessing=!1,v["a"].fire({type:"error",title:"無法更新資料，請稍後再試"});case 17:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(e){return t.apply(this,arguments)}return e}()}},w=m,O=(n("159e"),n("2877")),y=Object(O["a"])(w,r,a,!1,null,"b9226f22",null);e["default"]=y.exports},e630:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("774e"),a=n.n(r),s=n("db2a");function i(t,e){if(t){if("string"===typeof t)return Object(s["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?a()(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(s["a"])(t,e):void 0}}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-6d33bfb2.3d08a769.js.map