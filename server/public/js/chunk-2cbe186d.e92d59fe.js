(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cbe186d"],{"9cde":function(t,e,s){"use strict";s("da69")},da69:function(t,e,s){},f057:function(t,e,s){"use strict";s.r(e);s("7f7f");var n=function(){var t=this,e=t._self._c;return e("section",{staticClass:"subscribe"},[e("TopLogoNavbar"),e("transition",{attrs:{appear:"",name:"slide"}},[e("div",{staticClass:"subscribe-content rounded"},[e("div",{staticClass:"subscribe-content-top row"},[e("div",{staticClass:"subscribe-content-top-header col-12 mb-4"},[e("h3",[t._v("\n            方案選擇\n          ")]),e("h5",[t._v("\n            根據個人需求挑選月繳方案\n          ")])]),e("div",{staticClass:"subscribe-content-top-choices col-12"},t._l(t.plans,(function(s){return e("button",{key:s.id,staticClass:"subscribe-choice",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),t.handleSubscribe(s.name,s.quantity,s.price)}}},[e("h4",{staticClass:"subscribe-choice-header"},[t._v("\n              "+t._s(s.name)+"\n            ")]),e("h3",{staticClass:"subscribe-choice-description"},[t._v("\n              "+t._s(s.quantity)+" 餐\n              "),e("span",{staticClass:"subscribe-choice-price d-block mt-2"},[t._v("月付 "+t._s(s.price)+" 元")])])])})),0)]),e("div",{staticClass:"subscribe-content-bottom"},[e("p",{staticClass:"text-left m-0 mr-3"},[t._v("\n          計算方式：一個月以 30 天計算\n        ")])]),e("form",{ref:"tradeForm",attrs:{action:"https://ccore.newebpay.com/MPG/mpg_gateway",method:"POST"}},t._l(t.tradeInfo,(function(t){return e("input",{key:t,ref:t,refInFor:!0,attrs:{type:"text",name:t,hidden:""}})})),0)])])],1)},a=[],r=(s("ac6a"),s("96cf"),s("3b8d")),c=s("188e"),i=s("4cce"),o=s("2fa3"),u={components:{TopLogoNavbar:c["a"]},data:function(){return{plans:[{id:1,name:"輕量型",price:1e3,quantity:10},{id:2,name:"滿足型",price:2e3,quantity:20}],tradeInfo:["MerchantID","TradeInfo","TradeSha","Version"],isProcessing:!1}},methods:{handleSubscribe:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,s,n){var a,r,c,u,b=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={sub_balance:s,sub_description:"一個月".concat(s,"餐"),sub_name:e,sub_price:n},t.prev=1,this.isProcessing=!0,t.next=5,i["a"].postSubscribe({formData:a});case 5:if(r=t.sent,c=r.data,u=r.statusText,"OK"===u&&"success"===c.status){t.next=10;break}throw new Error(c.message);case 10:this.tradeInfo.forEach((function(t){return b.$refs[t][0].setAttribute("value",c.tradeInfo[t])})),this.$refs.tradeForm.submit(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),this.isProcessing=!1,o["a"].fire({type:"error",title:"訂閱失敗，請稍後再試"});case 18:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(e,s,n){return t.apply(this,arguments)}return e}()}},b=u,d=(s("9cde"),s("2877")),p=Object(d["a"])(b,n,a,!1,null,"6af5953f",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2cbe186d.e92d59fe.js.map