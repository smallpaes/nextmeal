(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64c0044c"],{1331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=(0,r.regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=i},"26f8":function(e,t,n){"use strict";n("40ea")},"2a12":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(e){return(0,r.withParams)({type:"maxLength",max:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)<=e}))};t.default=i},"2a35":function(e,t,n){"use strict";n("d07a")},3360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:"and"},(function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.length>0&&t.reduce((function(t,n){return t&&n.apply(e,r)}),!0)}))};t.default=i},"3a54":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=(0,r.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=i},"40ea":function(e,t,n){},"45b8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=(0,r.regex)("numeric",/^[0-9]*$/);t.default=i},"46bc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(e){return(0,r.withParams)({type:"maxValue",max:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))};t.default=i},"4c51":function(e,t,n){"use strict";n("f382")},"5d75":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,a=(0,r.regex)("email",i);t.default=a},"5db3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(e){return(0,r.withParams)({type:"minLength",min:e},(function(t){return!(0,r.req)(t)||(0,r.len)(t)>=e}))};t.default=i},6235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=(0,r.regex)("alpha",/^[a-zA-Z]*$/);t.default=i},6417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(e){return(0,r.withParams)({type:"not"},(function(t,n){return!(0,r.req)(t)||!e.call(this,t,n)}))};t.default=i},"772d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,a=(0,r.regex)("url",i);t.default=a},"78ef":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.regex=t.ref=t.len=void 0,Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return r.default}});var r=i(n("8750"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var u=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===a(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=u;var o=function(e){return Array.isArray(e)?e.length:"object"===a(e)?Object.keys(e).length:String(e).length};t.len=o;var s=function(e,t,n){return"function"===typeof e?e.call(t,n):n[e]};t.ref=s;var c=function(e,t){return(0,r.default)({type:e},(function(e){return!u(e)||t.test(e)}))};t.regex=c},8750:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="web"===Object({NODE_ENV:"production",VUE_APP_GOOGLE:"AIzaSyB0rZtof4Nbq6E1R9efTVycrTkwI_czyLQ",BASE_URL:"/"}).BUILD?n("cb69").withParams:n("0234").withParams,i=r;t.default=i},"91d3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,r.withParams)({type:"macAddress"},(function(t){if(!(0,r.req)(t))return!0;if("string"!==typeof t)return!1;var n="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==n&&(6===n.length||8===n.length)&&n.every(a)}))};t.default=i;var a=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},aa82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(e){return(0,r.withParams)({type:"requiredIf",prop:e},(function(t,n){return!(0,r.ref)(e,this,n)||(0,r.req)(t)}))};t.default=i},b5ae:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return s.default}}),t.helpers=void 0,Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return b.default}});var i=M(n("6235")),a=M(n("3a54")),u=M(n("45b8")),o=M(n("ec11")),s=M(n("5d75")),c=M(n("c99d")),f=M(n("91d3")),l=M(n("2a12")),d=M(n("5db3")),p=M(n("d4f4")),y=M(n("aa82")),m=M(n("e652")),v=M(n("b6cb")),b=M(n("772d")),h=M(n("d294")),g=M(n("3360")),_=M(n("6417")),O=M(n("eb66")),P=M(n("46bc")),x=M(n("1331")),j=M(n("c301")),w=S(n("78ef"));function q(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(q=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=q(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(i,u,o):i[u]=e[u]}return i.default=e,n&&n.set(e,i),i}function M(e){return e&&e.__esModule?e:{default:e}}t.helpers=w},b6cb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(e){return(0,r.withParams)({type:"sameAs",eq:e},(function(t,n){return t===(0,r.ref)(e,this,n)}))};t.default=i},b8bb:function(e,t,n){"use strict";n("7f7f");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group",class:{invalid:e.v.$error}},[e.$slots.label?t("label",{attrs:{for:"category"}},[e._t("label")],2):e._e(),t("div",{staticClass:"form-select-control"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"data"}],staticClass:"form-control",attrs:{required:"",disabled:e.isProcessing},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.data=t.target.multiple?n:n[0]},function(t){return e.v.$touch()}]}},[t("option",{attrs:{value:"",selected:""}},[e._t("option")],2),e._l(e.options,(function(n){return t("option",{key:n.id,domProps:{value:n[e.target],selected:n[e.target]===e.value}},[e._v("\n        "+e._s(n.name)+"\n      ")])}))],2),t("div",{staticClass:"invalid-feedback"})]),e.v.$error?t("small",{staticClass:"form-text"},[e._t("invalid")],2):e._e()])},i=[],a=(n("c5f6"),{props:{value:{type:[String,Number],required:!0},options:{type:Array,required:!0},v:{type:Object,required:!0},target:{type:String,required:!0},isProcessing:{type:Boolean,default:!1}},computed:{data:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}}),u=a,o=(n("2a35"),n("2877")),s=Object(o["a"])(u,r,i,!1,null,"5cd51da7",null);t["a"]=s.exports},c301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=(0,r.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=i},c605:function(e,t,n){},c901:function(e,t,n){"use strict";n("c605")},c99d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=(0,r.withParams)({type:"ipAddress"},(function(e){if(!(0,r.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(a)}));t.default=i;var a=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},cb69:function(e,t,n){"use strict";(function(e){function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var r="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},i=function(e,t){return"object"===n(e)&&void 0!==t?t:e((function(){}))},a=r.vuelidate?r.vuelidate.withParams:i;t.withParams=a}).call(this,n("c8ba"))},d07a:function(e,t,n){},d294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:"or"},(function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.length>0&&t.reduce((function(t,n){return t||n.apply(e,r)}),!1)}))};t.default=i},d4f4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=(0,r.withParams)({type:"required"},(function(e){return"string"===typeof e?(0,r.req)(e.trim()):(0,r.req)(e)}));t.default=i},e652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(e){return(0,r.withParams)({type:"requiredUnless",prop:e},(function(t,n){return!!(0,r.ref)(e,this,n)||(0,r.req)(t)}))};t.default=i},eb66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(e){return(0,r.withParams)({type:"minValue",min:e},(function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))};t.default=i},ec11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),i=function(e,t){return(0,r.withParams)({type:"between",min:e,max:t},(function(n){return!(0,r.req)(n)||(!/\s/.test(n)||n instanceof Date)&&+e<=+n&&+t>=+n}))};t.default=i},f0ce:function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("button",{staticClass:"btn",class:"btn-"+e.color+"-color",style:{"border-radius":e.borderRadius},attrs:{disabled:e.isProcessing||e.v.$invalid},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.$emit("after-click"),e.isCurrentButton=!0}}},[!e.isProcessing||e.isProcessing&&!e.isCurrentButton?[e._t("initial")]:e._e(),e.isProcessing&&e.isCurrentButton?[e._v("\n    處理中 ...\n  ")]:e._e()],2)},i=[],a={props:{isProcessing:{type:Boolean,default:!1},v:{type:Object,required:!0},color:{type:String,default:"primary"},borderRadius:{type:String,default:"1rem"}},data:function(){return{isCurrentButton:!1}},watch:{isProcessing:function(e){e||(this.isCurrentButton=!1)}}},u=a,o=(n("4c51"),n("2877")),s=Object(o["a"])(u,r,i,!1,null,"35aea9ab",null);t["a"]=s.exports},f382:function(e,t,n){},f640:function(e,t,n){"use strict";n.r(t);n("7f7f"),n("ac6a"),n("456d");var r=function(){var e=this,t=e._self._c;return t("section",{staticClass:"wrapper d-flex vh-100"},[t("OwnerSideNavBar",{attrs:{"nav-is-open":e.navIsOpen}}),t("section",{staticClass:"menu flex-fill"},[t("NavbarToggler",{attrs:{"nav-is-open":e.navIsOpen},on:{"toggle-navbar":function(t){e.navIsOpen=!e.navIsOpen}}}),t("h1",{staticClass:"menu-title"},[e._v("\n      餐點資訊\n    ")]),t("OwnerDishNavPill",{staticClass:"mt-4 ml-1"}),t("hr",{staticClass:"menu-divider"}),e.isLoading?t("Loader",{attrs:{height:"300px"}}):e._e(),t("transition",{attrs:{name:"slide"}},[e.isLoading?e._e():t("section",{staticClass:"menu-content mb-4"},[t("div",{staticClass:"menu-card-container row mx-0 p-3 rounded-sm shadow-sm"},[Object.keys(e.meal).length>0&&("thisWeek"===e.$route.query.ran||"nextWeek"===e.$route.query.ran&&e.meal.nextServing_quantity)?e._l(e.days,(function(n){return t("OwnerDishCard",{key:n,staticClass:"col-12 pb-0 pb-md-2 px-0 mb-0 mb-md-2",attrs:{image:e.meal.image,"edit-btn":"nextWeek"===e.$route.query.ran&&0!==e.currentDay},on:{edit:e.handleEditMeal},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n                "+e._s(n)+"\n              ")]},proxy:!0},{key:"primary-description",fn:function(){return[t("span",{staticClass:"d-none d-md-inline"},[e._v("餐點名稱：")]),e._v("\n                "+e._s(e.meal.name)+"\n              ")]},proxy:!0},{key:"secondary-description",fn:function(){return[t("span",{staticClass:"d-none d-md-inline"},[e._v("供應數量")]),e._v("\n                ："+e._s("thisWeek"===e.$route.query.ran?e.meal.quantity:e.meal.nextServing_quantity||0)+"份\n              ")]},proxy:!0}],null,!0)})})):t("PlaceholderMessage",{staticClass:"placeholder-message col-12 py-4 text-center"},[e.currentUser.hasRestaurant?[t("h1",[t("i",{staticClass:"fas fa-utensils"})]),e._v("\n              尚未提供餐點\n            ")]:[t("h1",[t("i",{staticClass:"fas fa-exclamation-circle"})]),e._v("\n              請先至「餐廳」頁面填寫資料"),t("br"),e._v("完成開店流程\n            ")]],2)],2),"nextWeek"===e.$route.query.ran&&e.currentUser.hasRestaurant?t("OwnerMenuForm",{ref:"editForm",staticClass:"menu-form",attrs:{"initial-meal":Object.keys(e.meal).length>0?e.meal:{},options:e.options},on:{"after-submit":e.handleAfterSubmit}}):e._e()],1)])],1)],1)},i=[],a=(n("8e6e"),n("96cf"),n("3b8d")),u=n("bd86"),o=n("0a76"),s=n("0f14d"),c=n("fb59"),f=n("e64f"),l=function(){var e=this,t=e._self._c;return t("form",{staticClass:"form p-4 rounded shadow-sm",attrs:{novalidate:""}},[t("h3",{staticClass:"form-header mb-4"},[e._v("\n    更新下週菜單\n  ")]),t("CustomSelect",{attrs:{options:e.options,v:e.$v.id,target:"id"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("\n      餐點\n    ")]},proxy:!0},{key:"option",fn:function(){return[e._v("\n      選擇餐點\n    ")]},proxy:!0},{key:"invalid",fn:function(){return[e._v("\n      請選擇一種餐點\n    ")]},proxy:!0}]),model:{value:e.id,callback:function(t){e.id=t},expression:"id"}}),t("div",{staticClass:"form-group",class:{invalid:e.$v.quantity.$error}},[t("label",{attrs:{for:"quantity"}},[e._v("供應數量")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"quantity",type:"number",min:"1",max:"50",required:""},domProps:{value:e.quantity},on:{input:[function(t){t.target.composing||(e.quantity=e._n(t.target.value))},function(t){return e.$v.quantity.$touch()}],blur:function(t){return e.$forceUpdate()}}}),e.$v.quantity.$error?t("small",{staticClass:"form-text"},[e._v("請填寫欲提供的數量，最少 1 份和最多 50 份")]):e._e()]),t("div",{staticClass:"btn-container mt-4"},[t("ProcessButton",{staticClass:"btn",attrs:{"is-processing":e.isProcessing,v:e.$v},on:{"after-click":e.handleSubmit},scopedSlots:e._u([{key:"initial",fn:function(){return[e._v("\n        更新\n      ")]},proxy:!0}])})],1)],1)},d=[],p=n("b8bb"),y=n("f0ce"),m=n("bcc2"),v=n("2fa3"),b=n("b5ae"),h={components:{CustomSelect:p["a"],ProcessButton:y["a"]},props:{initialMeal:{type:Object,default:function(){return{id:"",name:"",nextServing_quantity:0}}},options:{type:Array,required:!0}},data:function(){return{quantity:0,id:"",isProcessing:!1}},validations:{id:{required:b["required"]},quantity:{required:b["required"],between:Object(b["between"])(1,50)}},watch:{initialMeal:function(e){this.id=e.id||this.id,this.quantity=e.nextServing_quantity||this.quantity}},created:function(){this.id=this.initialMeal.id||this.id,this.quantity=this.initialMeal.nextServing_quantity||this.quantity},methods:{handleSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={id:this.id,quantity:this.quantity},this.isProcessing=!0,e.prev=2,e.next=5,m["a"].menu.putMenu(n);case 5:if(r=e.sent,i=r.data,a=r.statusText,"success"===i.status&&"OK"===a){e.next=10;break}throw new Error(i.message);case 10:this.$emit("after-submit",{id:n.id,nextServing_quantity:n.quantity,name:i.meal.name,image:i.meal.image}),v["a"].fire({type:"success",title:"成功更新下週菜單！"}),this.isProcessing=!1,e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](2),this.isProcessing=!1,v["a"].fire({type:"error",title:"無法更新下週菜單，請稍後再試"});case 19:case"end":return e.stop()}}),e,this,[[2,15]])})));function t(t){return e.apply(this,arguments)}return t}()}},g=h,_=(n("26f8"),n("2877")),O=Object(_["a"])(g,l,d,!1,null,"1d0943a6",null),P=O.exports,x=n("d691"),j=n("555f"),w=n("2f62");function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(u["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={components:{OwnerSideNavBar:o["a"],OwnerDishNavPill:c["a"],NavbarToggler:s["a"],OwnerDishCard:f["a"],OwnerMenuForm:P,PlaceholderMessage:x["a"],Loader:j["a"]},data:function(){return{meal:{id:"",name:"",description:"",image:"",quantity:0,nextServing_quantity:0,isServing:!1,nextServing:!1},options:[],days:["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],isLoading:!0,navIsOpen:!1}},computed:S(S({},Object(w["c"])(["currentUser"])),{},{currentDay:function(){var e=new Date;return e.getDay()}}),created:function(){var e=this.$route.query.ran;(!e||"thisWeek"!==e&&"nextWeek"!==e)&&this.$router.push({name:"not-found"}),this.fetchMeal(e)},beforeRouteUpdate:function(e,t,n){var r=e.query.ran;(!r||"thisWeek"!==r&&"nextWeek"!==r)&&n({name:"not-found"}),this.fetchMeal(r),n()},methods:{fetchMeal:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,e.next=4,m["a"].menu.getMenu({ran:t});case 4:if(n=e.sent,r=n.data,i=n.statusText,"success"===r.status&&"OK"===i){e.next=9;break}throw new Error(r.message);case 9:this.meal=r.meals.length?r.meals[0]:{},r.options&&(this.options=r.options),this.isLoading=!1,e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),this.isLoading=!1,v["a"].fire({type:"error",title:"無法取得本週菜單，請稍後再試"});case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(t){return e.apply(this,arguments)}return t}(),handleEditMeal:function(){var e=this.$refs.editForm.$el,t=e.offsetTop;window.scrollTo({top:t,behavior:"smooth"})},handleAfterSubmit:function(e){this.meal=S(S({},this.meal),e)}}},k=M,$=(n("c901"),Object(_["a"])(k,r,i,!1,null,"9cf0011e",null));t["default"]=$.exports}}]);
//# sourceMappingURL=chunk-64c0044c.603d0bd6.js.map