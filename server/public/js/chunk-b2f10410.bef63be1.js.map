{"version":3,"sources":["webpack:///./src/views/AdminUsers.vue","webpack:///./src/components/AdminUsersTable.vue","webpack:///src/components/AdminUsersTable.vue","webpack:///./src/components/AdminUsersTable.vue?0a19","webpack:///./src/components/AdminUsersTable.vue?311e","webpack:///src/views/AdminUsers.vue","webpack:///./src/views/AdminUsers.vue?2a69","webpack:///./src/views/AdminUsers.vue?23e3","webpack:///./src/components/AdminUsersTable.vue?44f2","webpack:///./src/views/AdminUsers.vue?3477"],"names":["render","_vm","this","_c","_self","staticClass","attrs","navIsOpen","on","$event","_v","subscriptionStatus","isLoading","handleAfterFilter","sub_status","$route","query","name","scopedSlots","_u","key","fn","proxy","users","length","_e","totalPage","Number","page","staticRenderFns","_m","_l","userData","user","id","class","loading","$router","push","params","user_id","_s","role","isTrue","isFalse","domProps","_f","sub_description","order_num","components","SkelentonBox","filters","getStatusIcon","status","getAmount","number","concat","slice","props","type","Array","required","Boolean","default","computed","component","AdminSideNavBar","NavbarToggler","AdminFilterPanel","AdminUsersTable","PlaceholderMessage","Pagination","data","created","_this$$route$query","fetchUsers","beforeRouteUpdate","to","from","next","_to$query","methods","_arguments","arguments","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$adminAPI$users","statusText","wrap","_context","prev","undefined","adminAPI","getUsers","sent","Error","message","pages","t0","Toast","fire","title","stop"],"mappings":"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","file":"js/chunk-b2f10410.bef63be1.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"wrapper d-flex vh-100\"},[_c('AdminSideNavBar',{attrs:{\"nav-is-open\":_vm.navIsOpen}}),_c('section',{staticClass:\"users flex-fill\"},[_c('NavbarToggler',{attrs:{\"nav-is-open\":_vm.navIsOpen},on:{\"toggle-navbar\":function($event){_vm.navIsOpen = !_vm.navIsOpen}}}),_c('h1',{staticClass:\"users-title\"},[_vm._v(\" 用戶管理 \")]),_c('hr',{staticClass:\"users-divider\"}),_c('AdminFilterPanel',{attrs:{\"options\":_vm.subscriptionStatus,\"input-placeholder\":'搜尋名稱',\"is-loading\":_vm.isLoading},on:{\"after-search\":function($event){return _vm.handleAfterFilter({sub_status: _vm.$route.query.sub_status, name: $event})},\"after-filter\":function($event){return _vm.handleAfterFilter({sub_status: $event, name: _vm.$route.query.name})}},scopedSlots:_vm._u([{key:\"filterOption\",fn:function(){return [_vm._v(\" 訂閱狀態 \")]},proxy:true}])}),_c('transition',{attrs:{\"name\":\"slide\",\"appear\":\"\"}},[(_vm.isLoading || !_vm.isLoading && _vm.users.length > 0)?_c('AdminUsersTable',{attrs:{\"is-loading\":_vm.isLoading,\"users\":_vm.users}}):_vm._e()],1),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.totalPage > 1)?_c('Pagination',{staticClass:\"mt-4\",attrs:{\"total-page\":_vm.totalPage,\"current-page\":Number(_vm.$route.query.page) || 1,\"query\":{sub_status: this.$route.query.sub_status, name: this.$route.query.name}}}):_vm._e()],1),(!_vm.isLoading && _vm.users.length === 0)?_c('PlaceholderMessage',{staticClass:\"users-placeholder\"},[_c('i',{staticClass:\"fas fa-search mr-2\"}),_vm._v(\"沒有符合的結果 \")]):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"table-wrapper table-borderless table-hover rounded-sm\"},[_c('table',{staticClass:\"table m-0\"},[_vm._m(0),_c('tbody',_vm._l((_vm.userData),function(user){return _c('tr',{key:user.id,class:{loading: _vm.isLoading},on:{\"click\":function($event){_vm.isLoading ? null : _vm.$router.push({name:'admin-user-edit', params: {user_id: user.id}})}}},[_c('td',[(_vm.isLoading)?_c('SkelentonBox',{attrs:{\"width\":'50px'}}):[_vm._v(\" \"+_vm._s(user.name)+\" \")]],2),_c('td',[(_vm.isLoading)?_c('SkelentonBox',{attrs:{\"width\":'50px'}}):[_vm._v(\" \"+_vm._s(user.role)+\" \")]],2),_c('td',[(_vm.isLoading)?_c('SkelentonBox',{attrs:{\"width\":'16px'}}):[_c('span',{class:{isTrue: user.sub_status === 'active', isFalse: user.sub_status === 'inactive'},domProps:{\"innerHTML\":_vm._f(\"getStatusIcon\")(user.sub_status)}})]],2),_c('td',{staticClass:\"comment\"},[(_vm.isLoading)?_c('SkelentonBox',{attrs:{\"width\":'50px'}}):[_vm._v(\" \"+_vm._s(_vm._f(\"getAmount\")(user.sub_description))+\" \")]],2),_c('td',[(_vm.isLoading)?_c('SkelentonBox',{attrs:{\"width\":'50px'}}):[_vm._v(\" \"+_vm._s(user.order_num)+\" 餐 \")]],2)])}),0)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" 名稱 \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" 用戶權限 \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" 訂閱狀態 \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" 訂閱方案 \")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\" 點餐量 \")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"table-wrapper table-borderless table-hover rounded-sm \">\n    <table class=\"table m-0\">\n      <thead>\n        <tr>\n          <th scope=\"col\">\n            名稱\n          </th>\n          <th scope=\"col\">\n            用戶權限\n          </th>\n          <th scope=\"col\">\n            訂閱狀態\n          </th>\n          <th scope=\"col\">\n            訂閱方案\n          </th>\n          <th scope=\"col\">\n            點餐量\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <!--Display data-->\n        <tr\n          v-for=\"user in userData\"\n          :key=\"user.id\"\n          :class=\"{loading: isLoading}\"\n          @click=\"isLoading ? null : $router.push({name:'admin-user-edit', params: {user_id: user.id}})\"\n        >\n          <td>\n            <SkelentonBox\n              v-if=\"isLoading\"\n              :width=\"'50px'\"\n            />\n            <template v-else>\n              {{ user.name }}\n            </template>\n          </td>\n          <td>\n            <SkelentonBox\n              v-if=\"isLoading\"\n              :width=\"'50px'\"\n            />\n            <template v-else>\n              {{ user.role }}\n            </template>\n          </td>\n          <td>\n            <SkelentonBox\n              v-if=\"isLoading\"\n              :width=\"'16px'\"\n            />\n            <template v-else>\n              <span\n                :inner-html.prop=\"user.sub_status | getStatusIcon\"\n                :class=\"{isTrue: user.sub_status === 'active', isFalse: user.sub_status === 'inactive'}\"\n              />\n            </template>\n          </td>\n          <td class=\"comment\">\n            <SkelentonBox\n              v-if=\"isLoading\"\n              :width=\"'50px'\"\n            />\n            <template v-else>\n              {{ user.sub_description | getAmount }}\n            </template>\n          </td>\n          <td>\n            <SkelentonBox\n              v-if=\"isLoading\"\n              :width=\"'50px'\"\n            />\n            <template v-else>\n              {{ user.order_num }} 餐\n            </template>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport SkelentonBox from './Placeholder/SkeletonBox'\n\nexport default {\n  components: {\n    SkelentonBox\n  },\n  filters: {\n    getStatusIcon (status) {\n      if (status === 'active') return '<i class=\"fas fa-check\"></i>'\n      return '<i class=\"fas fa-times\"></i>'\n    },\n    getAmount (number) {\n      if (!number) return '-'\n      return `${number.slice(3, 5)} 餐`\n    }\n  },\n  props: {\n    users: {\n      type: Array,\n      required: true\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    userData () {\n      if (this.isLoading) return 10\n      return this.users\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$headers: (\n  1: '名稱',\n  2: '用戶權限',\n  3: '訂閱狀態',\n  4: '訂閱方案',\n  5: '點餐量'\n);\n\n// table layout for small screen\n@include tableMobile;\n// table layout for large screen\n@include tableFullSize;\n\n.isTrue { color: color(tertiary); }\n.isFalse { color: color(primary); }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsersTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsersTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminUsersTable.vue?vue&type=template&id=29d1c047&scoped=true&\"\nimport script from \"./AdminUsersTable.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminUsersTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminUsersTable.vue?vue&type=style&index=0&id=29d1c047&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29d1c047\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"wrapper d-flex vh-100\">\n    <!--Left Side Navbar-->\n    <AdminSideNavBar :nav-is-open=\"navIsOpen\" />\n\n    <!--Right Side Content-->\n    <section class=\"users flex-fill\">\n      <!--Navbar toggler-->\n      <NavbarToggler\n        :nav-is-open=\"navIsOpen\"\n        @toggle-navbar=\"navIsOpen = !navIsOpen\"\n      />\n      <h1 class=\"users-title\">\n        用戶管理\n      </h1>\n      <hr class=\"users-divider\">\n\n      <!--Filter And Search Panel-->\n      <AdminFilterPanel\n        :options=\"subscriptionStatus\"\n        :input-placeholder=\"'搜尋名稱'\"\n        :is-loading=\"isLoading\"\n        @after-search=\"handleAfterFilter({sub_status: $route.query.sub_status, name: $event})\"\n        @after-filter=\"handleAfterFilter({sub_status: $event, name: $route.query.name})\"\n      >\n        <template v-slot:filterOption>\n          訂閱狀態\n        </template>\n      </AdminFilterPanel>\n\n      <!--User Data Table-->\n      <transition\n        name=\"slide\"\n        appear\n      >\n        <AdminUsersTable\n          v-if=\"isLoading || !isLoading && users.length > 0\"\n          :is-loading=\"isLoading\"\n          :users=\"users\"\n        />\n      </transition>\n\n      <!--Pagination-->\n      <transition name=\"fade\">\n        <Pagination\n          v-if=\"totalPage > 1\"\n          class=\"mt-4\"\n          :total-page=\"totalPage\"\n          :current-page=\"Number($route.query.page) || 1\"\n          :query=\"{sub_status: this.$route.query.sub_status, name: this.$route.query.name}\"\n        />\n      </transition>\n\n      <!--Placeholder Messgae for Empty Data-->\n      <PlaceholderMessage\n        v-if=\"!isLoading && users.length === 0\"\n        class=\"users-placeholder\"\n      >\n        <i class=\"fas fa-search mr-2\" />沒有符合的結果\n      </PlaceholderMessage>\n    </section>\n  </section>\n</template>\n\n<script>\nimport AdminSideNavBar from '../components/Navbar/AdminSideNavBar'\nimport NavbarToggler from '../components/Navbar/NavbarToggler'\nimport AdminFilterPanel from '../components/AdminFilterPanel'\nimport AdminUsersTable from '../components/AdminUsersTable.vue'\nimport PlaceholderMessage from '../components/Placeholder/Message'\nimport Pagination from '../components/Pagination'\nimport adminAPI from '../apis/admin'\nimport { Toast } from '../utils/helpers'\n\nexport default {\n  components: {\n    AdminSideNavBar,\n    NavbarToggler,\n    AdminFilterPanel,\n    AdminUsersTable,\n    PlaceholderMessage,\n    Pagination\n  },\n  data () {\n    return {\n      users: [],\n      subscriptionStatus: ['active', 'inactive'],\n      totalPage: null,\n      isLoading: true,\n      navIsOpen: false\n    }\n  },\n  created () {\n    const { sub_status: subscriptionStatus, name, page } = this.$route.query\n    this.fetchUsers(subscriptionStatus, name, page)\n  },\n  beforeRouteUpdate (to, from, next) {\n    const { sub_status: subscriptionStatus, name, page } = to.query\n    this.fetchUsers(subscriptionStatus, name, page)\n    next()\n  },\n  methods: {\n    async fetchUsers (subscriptionStatus = '', name = '', page = 1) {\n      try {\n        // update loading status\n        this.isLoading = true\n        // fetch data from API\n        const { data, statusText } = await adminAPI.users.getUsers({ subscriptionStatus, name, page })\n        // error handling\n        if (data.status !== 'success' || statusText !== 'OK') throw new Error(data.message)\n        // store data\n        this.users = data.users\n        this.subscriptionStatus = data.sub_status || this.subscriptionStatus\n        // update page data\n        this.totalPage = data.pages\n        // update loading status\n        this.isLoading = false\n      } catch (error) {\n        // update loading status\n        this.isLoading = false\n        // fire error messages\n        Toast.fire({\n          type: 'error',\n          title: '無法取得用戶資料，請稍後再試'\n        })\n      }\n    },\n    handleAfterFilter (query) {\n      this.$router.push({ name: 'admin-users', query })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@include slideAnimation(false);\n@include fadeAnimation(false);\n\n.wrapper { background-color: color(quinary); }\n.users { @include controlPanelLayout; }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminUsers.vue?vue&type=template&id=13f229e0&scoped=true&\"\nimport script from \"./AdminUsers.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminUsers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminUsers.vue?vue&type=style&index=0&id=13f229e0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13f229e0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsersTable.vue?vue&type=style&index=0&id=29d1c047&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminUsers.vue?vue&type=style&index=0&id=13f229e0&prod&lang=scss&scoped=true&\""],"sourceRoot":""}