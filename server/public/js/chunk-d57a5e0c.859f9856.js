(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d57a5e0c"],{"0a76":function(t,e,s){"use strict";s("b0c0");var a=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"sidenav shadow",class:{opened:t.navIsOpen}},[e("div",{staticClass:"sidenav-brand-container text-center py-5"},[e("router-link",{staticClass:"sidenav-brand",attrs:{to:{name:"home"}}},[t._v(" NextMeal ")])],1),e("ul",{staticClass:"sidenav-nav px-0 text-center"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"owner-info"}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-store"})]),e("span",{staticClass:"nav-link-description"},[t._v("餐廳")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"owner-menu"===t.$route.name},attrs:{to:{name:"owner-dishes"},"active-class":"active"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-utensils"})]),e("span",{staticClass:"nav-link-description"},[t._v("餐點")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"owner-orders"},"active-class":"active"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-clipboard-list"})]),e("span",{staticClass:"nav-link-description"},[t._v("訂單")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"owner-dashboard"},"active-class":"active"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-chart-line"})]),e("span",{staticClass:"nav-link-description"},[t._v("分析")])])],1),e("li",{staticClass:"nav-divider"}),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#",role:"button"},on:{click:t.logout}},[t._m(0),e("span",{staticClass:"nav-link-description"},[t._v("登出")])])])])])},n=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-sign-out-alt"})])}],r=(s("14d9"),{props:{navIsOpen:{type:Boolean,required:!0}},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/")}}}),i=r,c=(s("dd72"),s("2877")),o=Object(c["a"])(i,a,n,!1,null,"be936cce",null);e["a"]=o.exports},"0a9b":function(t,e,s){},"0f14d":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn hamburger-menu",class:{opened:t.navIsOpen},on:{click:function(e){return t.$emit("toggle-navbar")}}},[e("div",{staticClass:"hamburger-menu-line hamburger-menu-line-1"}),e("div",{staticClass:"hamburger-menu-line hamburger-menu-line-2"}),e("div",{staticClass:"hamburger-menu-line hamburger-menu-line-3"})])},n=[],r={props:{navIsOpen:{type:Boolean,required:!0}}},i=r,c=(s("3e0f"),s("2877")),o=Object(c["a"])(i,a,n,!1,null,"351e4cbb",null);e["a"]=o.exports},"13d5":function(t,e,s){"use strict";var a=s("23e7"),n=s("d58f").left,r=s("a640"),i=s("2d00"),c=s("605d"),o=!c&&i>79&&i<83,l=o||!r("reduce");a({target:"Array",proto:!0,forced:l},{reduce:function(t){var e=arguments.length;return n(this,t,e,e>1?arguments[1]:void 0)}})},"3e0f":function(t,e,s){"use strict";s("e79d")},4948:function(t,e,s){"use strict";s("a2f9")},"4fe2":function(t,e,s){},"555f":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"icecream-container",style:{height:t.height}},[e("div",{staticClass:"icecream-content py-5"},[t._l(3,(function(t){return e("h1",{key:t,staticClass:"icecream"},[e("i",{staticClass:"fas fa-ice-cream"})])})),e("small",{staticClass:"icecream-description"},[t._v(" 準備中 ")])],2)])},n=[],r={props:{height:{type:String,default:"100vh"}}},i=r,c=(s("db9a"),s("2877")),o=Object(c["a"])(i,a,n,!1,null,"2e263baa",null);e["a"]=o.exports},a2f9:function(t,e,s){},ad14:function(t,e,s){},b17b:function(t,e,s){},bbfc:function(t,e,s){"use strict";s("b17b")},bcc2:function(t,e,s){"use strict";var a=s("2fa3");e["a"]={restaurants:{get:function(){return a["b"].get("/owner")},post:function(t){return a["b"].post("/owner",t)},put:function(t){return a["b"].put("/owner",t)}},dishes:{getDishes:function(){return a["b"].get("/owner/dishes")},postNew:function(t){return a["b"].post("/owner/dishes",t)},getEdit:function(t){var e=t.dishId;return a["b"].get("/owner/dishes/".concat(e))},putEdit:function(t){var e=t.dishId,s=t.formData;return a["b"].put("/owner/dishes/".concat(e,"/edit"),s)},deleteDish:function(t){var e=t.dishId;return a["b"].delete("/owner/dishes/".concat(e))}},menu:{getMenu:function(t){var e=t.ran;return a["b"].get("/owner/menu?ran=".concat(e))},putMenu:function(t){return a["b"].put("/owner/menu",t)}},orders:{getOrders:function(){return a["b"].get("/owner/orders")}},dashboard:{getDashboard:function(){return a["b"].get("/owner/dashboard")}}}},d58f:function(t,e,s){var a=s("59ed"),n=s("7b0b"),r=s("44ad"),i=s("07fa"),c=TypeError,o=function(t){return function(e,s,o,l){a(s);var u=n(e),d=r(u),f=i(u),v=t?f-1:0,b=t?-1:1;if(o<2)while(1){if(v in d){l=d[v],v+=b;break}if(v+=b,t?v<0:f<=v)throw c("Reduce of empty array with no initial value")}for(;t?v>=0:f>v;v+=b)v in d&&(l=s(l,d[v],v,u));return l}};t.exports={left:o(!1),right:o(!0)}},d691:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"placeholder-message p-2"},[e("h5",{staticClass:"m-0"},[t._t("default")],2)])},n=[],r=(s("4948"),s("2877")),i={},c=Object(r["a"])(i,a,n,!1,null,"d84b3480",null);e["a"]=c.exports},db9a:function(t,e,s){"use strict";s("ad14")},dd72:function(t,e,s){"use strict";s("0a9b")},deb0:function(t,e,s){"use strict";s.r(e);s("b64b");var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"wrapper d-flex vh-100"},[e("OwnerSideNavBar",{attrs:{"nav-is-open":t.navIsOpen}}),e("section",{staticClass:"order flex-fill"},[e("NavbarToggler",{attrs:{"nav-is-open":t.navIsOpen},on:{"toggle-navbar":function(e){t.navIsOpen=!t.navIsOpen}}}),e("h1",{staticClass:"order-title"},[t._v(" 今日訂單 ")]),e("hr",{staticClass:"order-divider"}),t.isLoading?e("Loader",{attrs:{height:"300px"}}):t._e(),e("transition",{attrs:{name:"slide"}},[t.isLoading?t._e():[Object.keys(t.orders).length>0?e("div",{staticClass:"order-table"},t._l(t.orders,(function(t,s){return e("OwnerOrdersTable",{key:s,staticClass:"mb-3",attrs:{orders:t,"time-slot":s}})})),1):e("PlaceholderMessage",{staticClass:"placeholder-message col-12 py-4 text-center"},[e("h1",[e("i",{staticClass:"fas fa-clipboard-list"})]),t._v(" 今日無訂單 ")])]],2)],1)],1)},n=[],r=s("c7eb"),i=s("5530"),c=s("1da1"),o=(s("d9e2"),s("0a76")),l=s("0f14d"),u=(s("b0c0"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"card rounded-sm border-0 shadow-sm"},[e("div",{staticClass:"card-header"},[e("h4",{staticClass:"card-title mb-1"},[t._v(" "+t._s(t.timeSlot)+" ")]),e("p",{staticClass:"card-text"},[t._v(" 共需準備 "+t._s(t.totalMeals)+" 份餐點 ")])]),e("div",{staticClass:"card-body p-0"},[e("div",{staticClass:"table-wrapper table-borderless table-hover rounded-sm"},[e("table",{staticClass:"table m-0"},[t._m(0),e("tbody",t._l(t.orders,(function(s){return e("tr",{key:s.id},[e("td",[t._v("#"+t._s(s.id))]),e("td",[t._v(t._s(s.User.name))]),e("td",[t._v(t._s(s.meals.OrderItem.quantity)+" 份")])])})),0)])])])])}),d=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(" 訂單編號 ")]),e("th",{attrs:{scope:"col"}},[t._v(" 取餐人 ")]),e("th",{attrs:{scope:"col"}},[t._v(" 餐點數量 ")])])])}],f=(s("13d5"),s("d3b7"),{props:{orders:{type:Array,required:!0},timeSlot:{type:String,required:!0}},computed:{totalMeals:function(){return this.orders.reduce((function(t,e){return t+e.meals.OrderItem.quantity}),0)}}}),v=f,b=(s("ebe5"),s("2877")),p=Object(b["a"])(v,u,d,!1,null,"0c3d8352",null),h=p.exports,m=s("555f"),C=s("d691"),g=s("bcc2"),_=s("2fa3"),w={components:{OwnerSideNavBar:o["a"],NavbarToggler:l["a"],OwnerOrdersTable:h,Loader:m["a"],PlaceholderMessage:C["a"]},data:function(){return{orders:{},isLoading:!0,navIsOpen:!1}},created:function(){this.fetchOrders()},methods:{fetchOrders:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var s,a,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g["a"].orders.getOrders();case 3:if(s=e.sent,a=s.data,n=s.statusText,"success"===a.status&&"OK"===n){e.next=8;break}throw new Error(a.message);case 8:t.orders=Object(i["a"])(Object(i["a"])({},t.orders),a.orders),t.isLoading=!1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),t.isLoading=!1,_["a"].fire({type:"error",title:"無法取得訂單，請稍後再試"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()}}},O=w,k=(s("bbfc"),Object(b["a"])(O,a,n,!1,null,"6afedcd9",null));e["default"]=k.exports},e79d:function(t,e,s){},ebe5:function(t,e,s){"use strict";s("4fe2")}}]);
//# sourceMappingURL=chunk-d57a5e0c.859f9856.js.map