(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b0829f5"],{"6a9f":function(t,e,s){},"9cde":function(t,e,s){"use strict";s("6a9f")},f057:function(t,e,s){"use strict";s.r(e);s("b0c0");var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"subscribe"},[e("TopLogoNavbar"),e("transition",{attrs:{appear:"",name:"slide"}},[e("div",{staticClass:"subscribe-content rounded"},[e("div",{staticClass:"subscribe-content-top row"},[e("div",{staticClass:"subscribe-content-top-header col-12 mb-4"},[e("h3",[t._v(" 方案選擇 ")]),e("h5",[t._v(" 根據個人需求挑選月繳方案 ")])]),e("div",{staticClass:"subscribe-content-top-choices col-12"},t._l(t.plans,(function(s){return e("button",{key:s.id,staticClass:"subscribe-choice",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),t.handleSubscribe(s.name,s.quantity,s.price)}}},[e("h4",{staticClass:"subscribe-choice-header"},[t._v(" "+t._s(s.name)+" ")]),e("h3",{staticClass:"subscribe-choice-description"},[t._v(" "+t._s(s.quantity)+" 餐 "),e("span",{staticClass:"subscribe-choice-price d-block mt-2"},[t._v("月付 "+t._s(s.price)+" 元")])])])})),0)]),e("div",{staticClass:"subscribe-content-bottom"},[e("p",{staticClass:"text-left m-0 mr-3"},[t._v(" 計算方式：一個月以 30 天計算 ")])]),e("form",{ref:"tradeForm",attrs:{action:"https://ccore.newebpay.com/MPG/mpg_gateway",method:"POST"}},t._l(t.tradeInfo,(function(t){return e("input",{key:t,ref:t,refInFor:!0,attrs:{type:"text",name:t,hidden:""}})})),0)])])],1)},c=[],n=s("c7eb"),r=s("1da1"),i=(s("d9e2"),s("d3b7"),s("159b"),s("188e")),o=s("4cce"),u=s("2fa3"),b={components:{TopLogoNavbar:i["a"]},data:function(){return{plans:[{id:1,name:"輕量型",price:1e3,quantity:10},{id:2,name:"滿足型",price:2e3,quantity:20}],tradeInfo:["MerchantID","TradeInfo","TradeSha","Version"],isProcessing:!1}},methods:{handleSubscribe:function(t,e,s){var a=this;return Object(r["a"])(Object(n["a"])().mark((function c(){var r,i,b,d;return Object(n["a"])().wrap((function(c){while(1)switch(c.prev=c.next){case 0:return r={sub_balance:e,sub_description:"一個月".concat(e,"餐"),sub_name:t,sub_price:s},c.prev=1,a.isProcessing=!0,c.next=5,o["a"].postSubscribe({formData:r});case 5:if(i=c.sent,b=i.data,d=i.statusText,"OK"===d&&"success"===b.status){c.next=10;break}throw new Error(b.message);case 10:a.tradeInfo.forEach((function(t){return a.$refs[t][0].setAttribute("value",b.tradeInfo[t])})),a.$refs.tradeForm.submit(),c.next=18;break;case 14:c.prev=14,c.t0=c["catch"](1),a.isProcessing=!1,u["a"].fire({type:"error",title:"訂閱失敗，請稍後再試"});case 18:case"end":return c.stop()}}),c,null,[[1,14]])})))()}}},d=b,p=(s("9cde"),s("2877")),f=Object(p["a"])(d,a,c,!1,null,"6af5953f",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-6b0829f5.f035e751.js.map