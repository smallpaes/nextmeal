(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5676a61a"],{"0a76":function(t,e,s){"use strict";s("7f7f");var a=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"sidenav shadow",class:{opened:t.navIsOpen}},[e("div",{staticClass:"sidenav-brand-container text-center py-5"},[e("router-link",{staticClass:"sidenav-brand",attrs:{to:{name:"home"}}},[t._v("\n      NextMeal\n    ")])],1),e("ul",{staticClass:"sidenav-nav px-0 text-center"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"owner-info"}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-store"})]),e("span",{staticClass:"nav-link-description"},[t._v("餐廳")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"owner-menu"===t.$route.name},attrs:{to:{name:"owner-dishes"},"active-class":"active"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-utensils"})]),e("span",{staticClass:"nav-link-description"},[t._v("餐點")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"owner-orders"},"active-class":"active"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-clipboard-list"})]),e("span",{staticClass:"nav-link-description"},[t._v("訂單")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"owner-dashboard"},"active-class":"active"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-chart-line"})]),e("span",{staticClass:"nav-link-description"},[t._v("分析")])])],1),e("li",{staticClass:"nav-divider"}),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#",role:"button"},on:{click:t.logout}},[t._m(0),e("span",{staticClass:"nav-link-description"},[t._v("登出")])])])])])},n=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-sign-out-alt"})])}],r={props:{navIsOpen:{type:Boolean,required:!0}},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/")}}},i=r,c=(s("dd72"),s("2877")),o=Object(c["a"])(i,a,n,!1,null,"be936cce",null);e["a"]=o.exports},"0f14d":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn hamburger-menu",class:{opened:t.navIsOpen},on:{click:function(e){return t.$emit("toggle-navbar")}}},[e("div",{staticClass:"hamburger-menu-line hamburger-menu-line-1"}),e("div",{staticClass:"hamburger-menu-line hamburger-menu-line-2"}),e("div",{staticClass:"hamburger-menu-line hamburger-menu-line-3"})])},n=[],r={props:{navIsOpen:{type:Boolean,required:!0}}},i=r,c=(s("3e0f"),s("2877")),o=Object(c["a"])(i,a,n,!1,null,"351e4cbb",null);e["a"]=o.exports},"0fe6":function(t,e,s){},"167c":function(t,e,s){},"2dff":function(t,e,s){},"3db1":function(t,e,s){},"3e0f":function(t,e,s){"use strict";s("0fe6")},4948:function(t,e,s){"use strict";s("2dff")},"555f":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"icecream-container",style:{height:t.height}},[e("div",{staticClass:"icecream-content py-5"},[t._l(3,(function(t){return e("h1",{key:t,staticClass:"icecream"},[e("i",{staticClass:"fas fa-ice-cream"})])})),e("small",{staticClass:"icecream-description"},[t._v("\n      準備中\n    ")])],2)])},n=[],r={props:{height:{type:String,default:"100vh"}}},i=r,c=(s("db9a"),s("2877")),o=Object(c["a"])(i,a,n,!1,null,"2e263baa",null);e["a"]=o.exports},"9d9f":function(t,e,s){},bbfc:function(t,e,s){"use strict";s("3db1")},bcc2:function(t,e,s){"use strict";var a=s("2fa3");e["a"]={restaurants:{get:function(){return a["b"].get("/owner")},post:function(t){return a["b"].post("/owner",t)},put:function(t){return a["b"].put("/owner",t)}},dishes:{getDishes:function(){return a["b"].get("/owner/dishes")},postNew:function(t){return a["b"].post("/owner/dishes",t)},getEdit:function(t){var e=t.dishId;return a["b"].get("/owner/dishes/".concat(e))},putEdit:function(t){var e=t.dishId,s=t.formData;return a["b"].put("/owner/dishes/".concat(e,"/edit"),s)},deleteDish:function(t){var e=t.dishId;return a["b"].delete("/owner/dishes/".concat(e))}},menu:{getMenu:function(t){var e=t.ran;return a["b"].get("/owner/menu?ran=".concat(e))},putMenu:function(t){return a["b"].put("/owner/menu",t)}},orders:{getOrders:function(){return a["b"].get("/owner/orders")}},dashboard:{getDashboard:function(){return a["b"].get("/owner/dashboard")}}}},d2ef:function(t,e,s){},d691:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"placeholder-message p-2"},[e("h5",{staticClass:"m-0"},[t._t("default")],2)])},n=[],r=(s("4948"),s("2877")),i={},c=Object(r["a"])(i,a,n,!1,null,"d84b3480",null);e["a"]=c.exports},db9a:function(t,e,s){"use strict";s("9d9f")},dd72:function(t,e,s){"use strict";s("d2ef")},deb0:function(t,e,s){"use strict";s.r(e);s("ac6a"),s("456d");var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"wrapper d-flex vh-100"},[e("OwnerSideNavBar",{attrs:{"nav-is-open":t.navIsOpen}}),e("section",{staticClass:"order flex-fill"},[e("NavbarToggler",{attrs:{"nav-is-open":t.navIsOpen},on:{"toggle-navbar":function(e){t.navIsOpen=!t.navIsOpen}}}),e("h1",{staticClass:"order-title"},[t._v("\n      今日訂單\n    ")]),e("hr",{staticClass:"order-divider"}),t.isLoading?e("Loader",{attrs:{height:"300px"}}):t._e(),e("transition",{attrs:{name:"slide"}},[t.isLoading?t._e():[Object.keys(t.orders).length>0?e("div",{staticClass:"order-table"},t._l(t.orders,(function(t,s){return e("OwnerOrdersTable",{key:s,staticClass:"mb-3",attrs:{orders:t,"time-slot":s}})})),1):e("PlaceholderMessage",{staticClass:"placeholder-message col-12 py-4 text-center"},[e("h1",[e("i",{staticClass:"fas fa-clipboard-list"})]),t._v("\n          今日無訂單\n        ")])]],2)],1)],1)},n=[],r=(s("8e6e"),s("bd86")),i=(s("96cf"),s("3b8d")),c=s("0a76"),o=s("0f14d"),l=(s("7f7f"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"card rounded-sm border-0 shadow-sm"},[e("div",{staticClass:"card-header"},[e("h4",{staticClass:"card-title mb-1"},[t._v("\n      "+t._s(t.timeSlot)+"\n    ")]),e("p",{staticClass:"card-text"},[t._v("\n      共需準備 "+t._s(t.totalMeals)+" 份餐點\n    ")])]),e("div",{staticClass:"card-body p-0"},[e("div",{staticClass:"table-wrapper table-borderless table-hover rounded-sm"},[e("table",{staticClass:"table m-0"},[t._m(0),e("tbody",t._l(t.orders,(function(s){return e("tr",{key:s.id},[e("td",[t._v("#"+t._s(s.id))]),e("td",[t._v(t._s(s.User.name))]),e("td",[t._v(t._s(s.meals.OrderItem.quantity)+" 份")])])})),0)])])])])}),u=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("\n              訂單編號\n            ")]),e("th",{attrs:{scope:"col"}},[t._v("\n              取餐人\n            ")]),e("th",{attrs:{scope:"col"}},[t._v("\n              餐點數量\n            ")])])])}],d={props:{orders:{type:Array,required:!0},timeSlot:{type:String,required:!0}},computed:{totalMeals:function(){return this.orders.reduce((function(t,e){return t+e.meals.OrderItem.quantity}),0)}}},f=d,p=(s("ebe5"),s("2877")),v=Object(p["a"])(f,l,u,!1,null,"0c3d8352",null),b=v.exports,h=s("555f"),m=s("d691"),g=s("bcc2"),C=s("2fa3");function O(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function _(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?O(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var w={components:{OwnerSideNavBar:c["a"],NavbarToggler:o["a"],OwnerOrdersTable:b,Loader:h["a"],PlaceholderMessage:m["a"]},data:function(){return{orders:{},isLoading:!0,navIsOpen:!1}},created:function(){this.fetchOrders()},methods:{fetchOrders:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g["a"].orders.getOrders();case 3:if(e=t.sent,s=e.data,a=e.statusText,"success"===s.status&&"OK"===a){t.next=8;break}throw new Error(s.message);case 8:this.orders=_(_({},this.orders),s.orders),this.isLoading=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),this.isLoading=!1,C["a"].fire({type:"error",title:"無法取得訂單，請稍後再試"});case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}()}},y=w,k=(s("bbfc"),Object(p["a"])(y,a,n,!1,null,"6afedcd9",null));e["default"]=k.exports},ebe5:function(t,e,s){"use strict";s("167c")}}]);
//# sourceMappingURL=chunk-5676a61a.69d84feb.js.map